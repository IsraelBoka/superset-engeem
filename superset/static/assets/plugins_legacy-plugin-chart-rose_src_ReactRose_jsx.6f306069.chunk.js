/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["plugins_legacy-plugin-chart-rose_src_ReactRose_jsx"],{

/***/ "./plugins/legacy-plugin-chart-rose/src/ReactRose.jsx":
/*!************************************************************!*\
  !*** ./plugins/legacy-plugin-chart-rose/src/ReactRose.jsx ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/chart/components/reactify.tsx\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _Rose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rose */ \"./plugins/legacy-plugin-chart-rose/src/Rose.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\n\n\nconst ReactComponent = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_Rose__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\nconst Rose = (_ref) => {let { className, ...otherProps } = _ref;return (\n    (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: className },\n    (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.jsx)(_emotion_react__WEBPACK_IMPORTED_MODULE_3__.Global, {\n      styles: (theme) => (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.css)`\n        .tooltip {\n          line-height: 1;\n          padding: ${theme.gridUnit * 3}px;\n          background: ${theme.colors.grayscale.dark2};\n          color: ${theme.colors.grayscale.light5};\n          border-radius: 4px;\n          pointer-events: none;\n          z-index: 1000;\n          font-size: ${theme.typography.sizes.s}px;\n        }\n      ` }\n    ),\n    (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.jsx)(ReactComponent, otherProps)\n    ));};const _default =\n\n\n(0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_4__.styled)(Rose)`\n  ${(_ref2) => {let { theme } = _ref2;return `\n    .superset-legacy-chart-rose path {\n        transition: fill-opacity 180ms linear;\n        stroke: ${theme.colors.grayscale.light5};\n        stroke-width: 1px;\n        stroke-opacity: 1;\n        fill-opacity: 0.75;\n    }\n\n    .superset-legacy-chart-rose text {\n        font-weight: ${theme.typography.weights.normal};\n        font-size: ${theme.typography.sizes.s}px;\n        font-family: ${theme.typography.families.sansSerif};\n        pointer-events: none;\n    }\n\n    .superset-legacy-chart-rose .clickable path {\n        cursor: pointer;\n    }\n\n    .superset-legacy-chart-rose .hover path {\n        fill-opacity: 1;\n    }\n\n    .nv-legend .nv-series {\n        cursor: pointer;\n    }\n  `;}}\n`;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ReactComponent, \"ReactComponent\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/ReactRose.jsx\");reactHotLoader.register(Rose, \"Rose\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/ReactRose.jsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/ReactRose.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtcm9zZS9zcmMvUmVhY3RSb3NlLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3BsdWdpbnMvbGVnYWN5LXBsdWdpbi1jaGFydC1yb3NlL3NyYy9SZWFjdFJvc2UuanN4PzEyY2QiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlYWN0aWZ5LCBzdHlsZWQsIGNzcyB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IEdsb2JhbCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9Sb3NlJztcblxuY29uc3QgUmVhY3RDb21wb25lbnQgPSByZWFjdGlmeShDb21wb25lbnQpO1xuXG5jb25zdCBSb3NlID0gKHsgY2xhc3NOYW1lLCAuLi5vdGhlclByb3BzIH0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgPEdsb2JhbFxuICAgICAgc3R5bGVzPXt0aGVtZSA9PiBjc3NgXG4gICAgICAgIC50b29sdGlwIHtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMTtcbiAgICAgICAgICBwYWRkaW5nOiAke3RoZW1lLmdyaWRVbml0ICogM31weDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9O1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQ1fTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgei1pbmRleDogMTAwMDtcbiAgICAgICAgICBmb250LXNpemU6ICR7dGhlbWUudHlwb2dyYXBoeS5zaXplcy5zfXB4O1xuICAgICAgICB9XG4gICAgICBgfVxuICAgIC8+XG4gICAgPFJlYWN0Q29tcG9uZW50IHsuLi5vdGhlclByb3BzfSAvPlxuICA8L2Rpdj5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxlZChSb3NlKWBcbiAgJHsoeyB0aGVtZSB9KSA9PiBgXG4gICAgLnN1cGVyc2V0LWxlZ2FjeS1jaGFydC1yb3NlIHBhdGgge1xuICAgICAgICB0cmFuc2l0aW9uOiBmaWxsLW9wYWNpdHkgMTgwbXMgbGluZWFyO1xuICAgICAgICBzdHJva2U6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDV9O1xuICAgICAgICBzdHJva2Utd2lkdGg6IDFweDtcbiAgICAgICAgc3Ryb2tlLW9wYWNpdHk6IDE7XG4gICAgICAgIGZpbGwtb3BhY2l0eTogMC43NTtcbiAgICB9XG5cbiAgICAuc3VwZXJzZXQtbGVnYWN5LWNoYXJ0LXJvc2UgdGV4dCB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiAke3RoZW1lLnR5cG9ncmFwaHkud2VpZ2h0cy5ub3JtYWx9O1xuICAgICAgICBmb250LXNpemU6ICR7dGhlbWUudHlwb2dyYXBoeS5zaXplcy5zfXB4O1xuICAgICAgICBmb250LWZhbWlseTogJHt0aGVtZS50eXBvZ3JhcGh5LmZhbWlsaWVzLnNhbnNTZXJpZn07XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIH1cblxuICAgIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtcm9zZSAuY2xpY2thYmxlIHBhdGgge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gICAgLnN1cGVyc2V0LWxlZ2FjeS1jaGFydC1yb3NlIC5ob3ZlciBwYXRoIHtcbiAgICAgICAgZmlsbC1vcGFjaXR5OiAxO1xuICAgIH1cblxuICAgIC5udi1sZWdlbmQgLm52LXNlcmllcyB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gIGB9XG5gO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./plugins/legacy-plugin-chart-rose/src/ReactRose.jsx\n");

/***/ }),

/***/ "./plugins/legacy-plugin-chart-rose/src/Rose.js":
/*!******************************************************!*\
  !*** ./plugins/legacy-plugin-chart-rose/src/Rose.js ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */ \"./node_modules/d3/d3.js\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var nvd3_fork__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nvd3-fork */ \"./node_modules/nvd3-fork/build/nv.d3.js\");\n/* harmony import */ var nvd3_fork__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(nvd3_fork__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/number-format/NumberFormatterRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/time-format/TimeFormatterRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/color/CategoricalColorNamespace.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint no-use-before-define: [\"error\", { \"functions\": false }] */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable react/sort-prop-types */\n\n\n\n\n\nconst propTypes = {\n  // Data is an object hashed by numeric value, perhaps timestamp\n  data: prop_types__WEBPACK_IMPORTED_MODULE_2___default().objectOf(\n    prop_types__WEBPACK_IMPORTED_MODULE_2___default().arrayOf(\n      prop_types__WEBPACK_IMPORTED_MODULE_2___default().shape({\n        key: prop_types__WEBPACK_IMPORTED_MODULE_2___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_2___default().string)),\n        name: prop_types__WEBPACK_IMPORTED_MODULE_2___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_2___default().string)),\n        time: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().number),\n        value: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().number)\n      })\n    )\n  ),\n  width: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().number),\n  height: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().number),\n  dateTimeFormat: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n  numberFormat: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n  useRichTooltip: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool),\n  useAreaProportions: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool)\n};\n\nfunction copyArc(d) {\n  return {\n    startAngle: d.startAngle,\n    endAngle: d.endAngle,\n    innerRadius: d.innerRadius,\n    outerRadius: d.outerRadius\n  };\n}\n\nfunction sortValues(a, b) {\n  if (a.value === b.value) {\n    return a.name > b.name ? 1 : -1;\n  }\n\n  return b.value - a.value;\n}\n\nfunction Rose(element, props) {\n  const {\n    data,\n    width,\n    height,\n    colorScheme,\n    dateTimeFormat,\n    numberFormat,\n    useRichTooltip,\n    useAreaProportions,\n    sliceId\n  } = props;\n\n  const div = d3__WEBPACK_IMPORTED_MODULE_0___default().select(element);\n  div.classed('superset-legacy-chart-rose', true);\n\n  const datum = data;\n  const times = Object.keys(datum).\n  map((t) => parseInt(t, 10)).\n  sort((a, b) => a - b);\n  const numGrains = times.length;\n  const numGroups = datum[times[0]].length;\n  const format = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_3__.getNumberFormatter)(numberFormat);\n  const timeFormat = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_4__.getTimeFormatter)(dateTimeFormat);\n  const colorFn = _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__.getScale(colorScheme);\n\n  d3__WEBPACK_IMPORTED_MODULE_0___default().select('.nvtooltip').remove();\n  div.selectAll('*').remove();\n\n  const arc = d3__WEBPACK_IMPORTED_MODULE_0___default().svg.arc();\n  const legend = nvd3_fork__WEBPACK_IMPORTED_MODULE_1___default().models.legend();\n  const tooltip = nvd3_fork__WEBPACK_IMPORTED_MODULE_1___default().models.tooltip();\n  const state = { disabled: datum[times[0]].map(() => false) };\n\n  const svg = div.append('svg').attr('width', width).attr('height', height);\n\n  const g = svg.append('g').attr('class', 'rose').append('g');\n\n  const legendWrap = g.append('g').attr('class', 'legendWrap');\n\n  function legendData(adatum) {\n    return adatum[times[0]].map((v, i) => ({\n      disabled: state.disabled[i],\n      key: v.name\n    }));\n  }\n\n  function tooltipData(d, i, adatum) {\n    const timeIndex = Math.floor(d.arcId / numGroups);\n    const series = useRichTooltip ?\n    adatum[times[timeIndex]].\n    filter((v) => !state.disabled[v.id % numGroups]).\n    map((v) => ({\n      key: v.name,\n      value: v.value,\n      color: colorFn(v.name, sliceId),\n      highlight: v.id === d.arcId\n    })) :\n    [{ key: d.name, value: d.val, color: colorFn(d.name, sliceId) }];\n\n    return {\n      key: 'Date',\n      value: d.time,\n      series\n    };\n  }\n\n  legend.width(width).color((d) => colorFn(d.key, sliceId));\n  legendWrap.datum(legendData(datum)).call(legend);\n\n  tooltip.headerFormatter(timeFormat).valueFormatter(format);\n  tooltip.classes('tooltip');\n\n  // Compute max radius, which the largest value will occupy\n  const roseHeight = height - legend.height();\n  const margin = { top: legend.height() };\n  const edgeMargin = 35; // space between outermost radius and slice edge\n  const maxRadius = Math.min(width, roseHeight) / 2 - edgeMargin;\n  const labelThreshold = 0.05;\n  const gro = 8; // mouseover radius growth in pixels\n  const mini = 0.075;\n\n  const centerTranslate = `translate(${width / 2},${\n  roseHeight / 2 + margin.top\n  })`;\n  const roseWrap = g.\n  append('g').\n  attr('transform', centerTranslate).\n  attr('class', 'roseWrap');\n\n  const labelsWrap = g.\n  append('g').\n  attr('transform', centerTranslate).\n  attr('class', 'labelsWrap');\n\n  const groupLabelsWrap = g.\n  append('g').\n  attr('transform', centerTranslate).\n  attr('class', 'groupLabelsWrap');\n\n  // Compute inner and outer angles for each data point\n  function computeArcStates(adatum) {\n    // Find the max sum of values across all time\n    let maxSum = 0;\n    let grain = 0;\n    const sums = [];\n    for (const t of times) {\n      const sum = datum[t].reduce(\n        (a, v, i) => a + (state.disabled[i] ? 0 : v.value),\n        0\n      );\n      maxSum = sum > maxSum ? sum : maxSum;\n      sums[grain] = sum;\n      grain += 1;\n    }\n\n    // Compute angle occupied by each time grain\n    const dtheta = Math.PI * 2 / numGrains;\n    const angles = [];\n    for (let i = 0; i <= numGrains; i += 1) {\n      angles.push(dtheta * i - Math.PI / 2);\n    }\n\n    // Compute proportion\n    const P = maxRadius / maxSum;\n    const Q = P * maxRadius;\n    const computeOuterRadius = (value, innerRadius) =>\n    useAreaProportions ?\n    Math.sqrt(Q * value + innerRadius * innerRadius) :\n    P * value + innerRadius;\n\n    const arcSt = {\n      data: [],\n      extend: {},\n      push: {},\n      pieStart: {},\n      pie: {},\n      pieOver: {},\n      mini: {},\n      labels: [],\n      groupLabels: []\n    };\n    let arcId = 0;\n    for (let i = 0; i < numGrains; i += 1) {\n      const t = times[i];\n      const startAngle = angles[i];\n      const endAngle = angles[i + 1];\n      const G = 2 * Math.PI / sums[i];\n      let innerRadius = 0;\n      let outerRadius;\n      let pieStartAngle = 0;\n      let pieEndAngle;\n      for (const v of adatum[t]) {\n        const val = state.disabled[arcId % numGroups] ? 0 : v.value;\n        const { name, time } = v;\n        v.id = arcId;\n        outerRadius = computeOuterRadius(val, innerRadius);\n        arcSt.data.push({\n          startAngle,\n          endAngle,\n          innerRadius,\n          outerRadius,\n          name,\n          arcId,\n          val,\n          time\n        });\n        arcSt.extend[arcId] = {\n          startAngle,\n          endAngle,\n          innerRadius,\n          name,\n          outerRadius: outerRadius + gro\n        };\n        arcSt.push[arcId] = {\n          startAngle,\n          endAngle,\n          innerRadius: innerRadius + gro,\n          outerRadius: outerRadius + gro\n        };\n        arcSt.pieStart[arcId] = {\n          startAngle,\n          endAngle,\n          innerRadius: mini * maxRadius,\n          outerRadius: maxRadius\n        };\n        arcSt.mini[arcId] = {\n          startAngle,\n          endAngle,\n          innerRadius: innerRadius * mini,\n          outerRadius: outerRadius * mini\n        };\n        arcId += 1;\n        innerRadius = outerRadius;\n      }\n      const labelArc = { ...arcSt.data[i * numGroups] };\n      labelArc.outerRadius = maxRadius + 20;\n      labelArc.innerRadius = maxRadius + 15;\n      arcSt.labels.push(labelArc);\n      for (const v of adatum[t].concat().sort(sortValues)) {\n        const val = state.disabled[v.id % numGroups] ? 0 : v.value;\n        pieEndAngle = G * val + pieStartAngle;\n        arcSt.pie[v.id] = {\n          startAngle: pieStartAngle,\n          endAngle: pieEndAngle,\n          innerRadius: maxRadius * mini,\n          outerRadius: maxRadius,\n          percent: v.value / sums[i]\n        };\n        arcSt.pieOver[v.id] = {\n          startAngle: pieStartAngle,\n          endAngle: pieEndAngle,\n          innerRadius: maxRadius * mini,\n          outerRadius: maxRadius + gro\n        };\n        pieStartAngle = pieEndAngle;\n      }\n    }\n    arcSt.groupLabels = arcSt.data.slice(0, numGroups);\n\n    return arcSt;\n  }\n\n  let arcSt = computeArcStates(datum);\n\n  function tween(target, resFunc) {\n    return function doTween(d) {\n      const interpolate = d3__WEBPACK_IMPORTED_MODULE_0___default().interpolate(copyArc(d), copyArc(target));\n\n      return (t) => resFunc(Object.assign(d, interpolate(t)));\n    };\n  }\n\n  function arcTween(target) {\n    return tween(target, (d) => arc(d));\n  }\n\n  function translateTween(target) {\n    return tween(target, (d) => `translate(${arc.centroid(d)})`);\n  }\n\n  // Grab the ID range of segments stand between\n  // this segment and the edge of the circle\n  const segmentsToEdgeCache = {};\n  function getSegmentsToEdge(arcId) {\n    if (segmentsToEdgeCache[arcId]) {\n      return segmentsToEdgeCache[arcId];\n    }\n    const timeIndex = Math.floor(arcId / numGroups);\n    segmentsToEdgeCache[arcId] = [arcId + 1, numGroups * (timeIndex + 1) - 1];\n\n    return segmentsToEdgeCache[arcId];\n  }\n\n  // Get the IDs of all segments in a timeIndex\n  const segmentsInTimeCache = {};\n  function getSegmentsInTime(arcId) {\n    if (segmentsInTimeCache[arcId]) {\n      return segmentsInTimeCache[arcId];\n    }\n    const timeIndex = Math.floor(arcId / numGroups);\n    segmentsInTimeCache[arcId] = [\n    timeIndex * numGroups,\n    (timeIndex + 1) * numGroups - 1];\n\n\n    return segmentsInTimeCache[arcId];\n  }\n\n  let clickId = -1;\n  let inTransition = false;\n  const ae = roseWrap.\n  selectAll('g').\n  data(JSON.parse(JSON.stringify(arcSt.data))) // deep copy data state\n  .enter().\n  append('g').\n  attr('class', 'segment').\n  classed('clickable', true).\n  on('mouseover', mouseover).\n  on('mouseout', mouseout).\n  on('mousemove', mousemove).\n  on('click', click);\n\n  const labels = labelsWrap.\n  selectAll('g').\n  data(JSON.parse(JSON.stringify(arcSt.labels))).\n  enter().\n  append('g').\n  attr('class', 'roseLabel').\n  attr('transform', (d) => `translate(${arc.centroid(d)})`);\n\n  labels.\n  append('text').\n  style('text-anchor', 'middle').\n  style('fill', '#000').\n  text((d) => timeFormat(d.time));\n\n  const groupLabels = groupLabelsWrap.\n  selectAll('g').\n  data(JSON.parse(JSON.stringify(arcSt.groupLabels))).\n  enter().\n  append('g');\n\n  groupLabels.\n  style('opacity', 0).\n  attr('class', 'roseGroupLabels').\n  append('text').\n  style('text-anchor', 'middle').\n  style('fill', '#000').\n  text((d) => d.name);\n\n  const arcs = ae.\n  append('path').\n  attr('class', 'arc').\n  attr('fill', (d) => colorFn(d.name, sliceId)).\n  attr('d', arc);\n\n  function mousemove() {\n    tooltip();\n  }\n\n  function mouseover(b, i) {\n    tooltip.data(tooltipData(b, i, datum)).hidden(false);\n    const $this = d3__WEBPACK_IMPORTED_MODULE_0___default().select(this);\n    $this.classed('hover', true);\n    if (clickId < 0 && !inTransition) {\n      $this.\n      select('path').\n      interrupt().\n      transition().\n      duration(180).\n      attrTween('d', arcTween(arcSt.extend[i]));\n      const edge = getSegmentsToEdge(i);\n      arcs.\n      filter((d) => edge[0] <= d.arcId && d.arcId <= edge[1]).\n      interrupt().\n      transition().\n      duration(180).\n      attrTween('d', (d) => arcTween(arcSt.push[d.arcId])(d));\n    } else if (!inTransition) {\n      const segments = getSegmentsInTime(clickId);\n      if (segments[0] <= b.arcId && b.arcId <= segments[1]) {\n        $this.\n        select('path').\n        interrupt().\n        transition().\n        duration(180).\n        attrTween('d', arcTween(arcSt.pieOver[i]));\n      }\n    }\n  }\n\n  function mouseout(b, i) {\n    tooltip.hidden(true);\n    const $this = d3__WEBPACK_IMPORTED_MODULE_0___default().select(this);\n    $this.classed('hover', false);\n    if (clickId < 0 && !inTransition) {\n      $this.\n      select('path').\n      interrupt().\n      transition().\n      duration(180).\n      attrTween('d', arcTween(arcSt.data[i]));\n      const edge = getSegmentsToEdge(i);\n      arcs.\n      filter((d) => edge[0] <= d.arcId && d.arcId <= edge[1]).\n      interrupt().\n      transition().\n      duration(180).\n      attrTween('d', (d) => arcTween(arcSt.data[d.arcId])(d));\n    } else if (!inTransition) {\n      const segments = getSegmentsInTime(clickId);\n      if (segments[0] <= b.arcId && b.arcId <= segments[1]) {\n        $this.\n        select('path').\n        interrupt().\n        transition().\n        duration(180).\n        attrTween('d', arcTween(arcSt.pie[i]));\n      }\n    }\n  }\n\n  function click(b, i) {\n    if (inTransition) {\n      return;\n    }\n    const delay = (d3__WEBPACK_IMPORTED_MODULE_0___default().event).altKey ? 3750 : 375;\n    const segments = getSegmentsInTime(i);\n    if (clickId < 0) {\n      inTransition = true;\n      clickId = i;\n      labels.\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween('transform', (d) =>\n      translateTween({\n        outerRadius: 0,\n        innerRadius: 0,\n        startAngle: d.startAngle,\n        endAngle: d.endAngle\n      })(d)\n      ).\n      style('opacity', 0);\n      groupLabels.\n      attr(\n        'transform',\n        `translate(${arc.centroid({\n          outerRadius: maxRadius + 20,\n          innerRadius: maxRadius + 15,\n          startAngle: arcSt.data[i].startAngle,\n          endAngle: arcSt.data[i].endAngle\n        })})`\n      ).\n      interrupt().\n      transition().\n      delay(delay).\n      duration(delay).\n      attrTween('transform', (d) =>\n      translateTween({\n        outerRadius: maxRadius + 20,\n        innerRadius: maxRadius + 15,\n        startAngle: arcSt.pie[segments[0] + d.arcId].startAngle,\n        endAngle: arcSt.pie[segments[0] + d.arcId].endAngle\n      })(d)\n      ).\n      style('opacity', (d) =>\n      state.disabled[d.arcId] ||\n      arcSt.pie[segments[0] + d.arcId].percent < labelThreshold ?\n      0 :\n      1\n      );\n      ae.classed(\n        'clickable',\n        (d) => segments[0] > d.arcId || d.arcId > segments[1]\n      );\n      arcs.\n      filter((d) => segments[0] <= d.arcId && d.arcId <= segments[1]).\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween('d', (d) => arcTween(arcSt.pieStart[d.arcId])(d)).\n      transition().\n      duration(delay).\n      attrTween('d', (d) => arcTween(arcSt.pie[d.arcId])(d)).\n      each('end', () => {\n        inTransition = false;\n      });\n      arcs.\n      filter((d) => segments[0] > d.arcId || d.arcId > segments[1]).\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween('d', (d) => arcTween(arcSt.mini[d.arcId])(d));\n    } else if (clickId < segments[0] || segments[1] < clickId) {\n      inTransition = true;\n      const clickSegments = getSegmentsInTime(clickId);\n      labels.\n      interrupt().\n      transition().\n      delay(delay).\n      duration(delay).\n      attrTween('transform', (d) =>\n      translateTween(arcSt.labels[d.arcId / numGroups])(d)\n      ).\n      style('opacity', 1);\n      groupLabels.\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween(\n        'transform',\n        translateTween({\n          outerRadius: maxRadius + 20,\n          innerRadius: maxRadius + 15,\n          startAngle: arcSt.data[clickId].startAngle,\n          endAngle: arcSt.data[clickId].endAngle\n        })\n      ).\n      style('opacity', 0);\n      ae.classed('clickable', true);\n      arcs.\n      filter((d) => clickSegments[0] <= d.arcId && d.arcId <= clickSegments[1]).\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween('d', (d) => arcTween(arcSt.pieStart[d.arcId])(d)).\n      transition().\n      duration(delay).\n      attrTween('d', (d) => arcTween(arcSt.data[d.arcId])(d)).\n      each('end', () => {\n        clickId = -1;\n        inTransition = false;\n      });\n      arcs.\n      filter((d) => clickSegments[0] > d.arcId || d.arcId > clickSegments[1]).\n      interrupt().\n      transition().\n      delay(delay).\n      duration(delay).\n      attrTween('d', (d) => arcTween(arcSt.data[d.arcId])(d));\n    }\n  }\n\n  function updateActive() {\n    const delay = (d3__WEBPACK_IMPORTED_MODULE_0___default().event).altKey ? 3000 : 300;\n    legendWrap.datum(legendData(datum)).call(legend);\n    const nArcSt = computeArcStates(datum);\n    inTransition = true;\n    if (clickId < 0) {\n      arcs.\n      style('opacity', 1).\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween('d', (d) => arcTween(nArcSt.data[d.arcId])(d)).\n      each('end', () => {\n        inTransition = false;\n        arcSt = nArcSt;\n      }).\n      transition().\n      duration(0).\n      style('opacity', (d) => state.disabled[d.arcId % numGroups] ? 0 : 1);\n    } else {\n      const segments = getSegmentsInTime(clickId);\n      arcs.\n      style('opacity', 1).\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween('d', (d) =>\n      segments[0] <= d.arcId && d.arcId <= segments[1] ?\n      arcTween(nArcSt.pie[d.arcId])(d) :\n      arcTween(nArcSt.mini[d.arcId])(d)\n      ).\n      each('end', () => {\n        inTransition = false;\n        arcSt = nArcSt;\n      }).\n      transition().\n      duration(0).\n      style('opacity', (d) => state.disabled[d.arcId % numGroups] ? 0 : 1);\n      groupLabels.\n      interrupt().\n      transition().\n      duration(delay).\n      attrTween('transform', (d) =>\n      translateTween({\n        outerRadius: maxRadius + 20,\n        innerRadius: maxRadius + 15,\n        startAngle: nArcSt.pie[segments[0] + d.arcId].startAngle,\n        endAngle: nArcSt.pie[segments[0] + d.arcId].endAngle\n      })(d)\n      ).\n      style('opacity', (d) =>\n      state.disabled[d.arcId] ||\n      arcSt.pie[segments[0] + d.arcId].percent < labelThreshold ?\n      0 :\n      1\n      );\n    }\n  }\n\n  legend.dispatch.on('stateChange', (newState) => {\n    if (state.disabled !== newState.disabled) {\n      state.disabled = newState.disabled;\n      updateActive();\n    }\n  });\n}\n\nRose.displayName = 'Rose';\nRose.propTypes = propTypes;const _default =\n\nRose;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/Rose.js\");reactHotLoader.register(copyArc, \"copyArc\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/Rose.js\");reactHotLoader.register(sortValues, \"sortValues\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/Rose.js\");reactHotLoader.register(Rose, \"Rose\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/Rose.js\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/plugins/legacy-plugin-chart-rose/src/Rose.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtcm9zZS9zcmMvUm9zZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LXJvc2Uvc3JjL1Jvc2UuanM/MjUwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6IFtcImVycm9yXCIsIHsgXCJmdW5jdGlvbnNcIjogZmFsc2UgfV0gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9zb3J0LXByb3AtdHlwZXMgKi9cbmltcG9ydCBkMyBmcm9tICdkMyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IG52IGZyb20gJ252ZDMtZm9yayc7XG5pbXBvcnQge1xuICBnZXRUaW1lRm9ybWF0dGVyLFxuICBnZXROdW1iZXJGb3JtYXR0ZXIsXG4gIENhdGVnb3JpY2FsQ29sb3JOYW1lc3BhY2UsXG59IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcblxuY29uc3QgcHJvcFR5cGVzID0ge1xuICAvLyBEYXRhIGlzIGFuIG9iamVjdCBoYXNoZWQgYnkgbnVtZXJpYyB2YWx1ZSwgcGVyaGFwcyB0aW1lc3RhbXBcbiAgZGF0YTogUHJvcFR5cGVzLm9iamVjdE9mKFxuICAgIFByb3BUeXBlcy5hcnJheU9mKFxuICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAga2V5OiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgICAgICAgbmFtZTogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG4gICAgICAgIHRpbWU6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIHZhbHVlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgfSksXG4gICAgKSxcbiAgKSxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgZGF0ZVRpbWVGb3JtYXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG51bWJlckZvcm1hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgdXNlUmljaFRvb2x0aXA6IFByb3BUeXBlcy5ib29sLFxuICB1c2VBcmVhUHJvcG9ydGlvbnM6IFByb3BUeXBlcy5ib29sLFxufTtcblxuZnVuY3Rpb24gY29weUFyYyhkKSB7XG4gIHJldHVybiB7XG4gICAgc3RhcnRBbmdsZTogZC5zdGFydEFuZ2xlLFxuICAgIGVuZEFuZ2xlOiBkLmVuZEFuZ2xlLFxuICAgIGlubmVyUmFkaXVzOiBkLmlubmVyUmFkaXVzLFxuICAgIG91dGVyUmFkaXVzOiBkLm91dGVyUmFkaXVzLFxuICB9O1xufVxuXG5mdW5jdGlvbiBzb3J0VmFsdWVzKGEsIGIpIHtcbiAgaWYgKGEudmFsdWUgPT09IGIudmFsdWUpIHtcbiAgICByZXR1cm4gYS5uYW1lID4gYi5uYW1lID8gMSA6IC0xO1xuICB9XG5cbiAgcmV0dXJuIGIudmFsdWUgLSBhLnZhbHVlO1xufVxuXG5mdW5jdGlvbiBSb3NlKGVsZW1lbnQsIHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBjb2xvclNjaGVtZSxcbiAgICBkYXRlVGltZUZvcm1hdCxcbiAgICBudW1iZXJGb3JtYXQsXG4gICAgdXNlUmljaFRvb2x0aXAsXG4gICAgdXNlQXJlYVByb3BvcnRpb25zLFxuICAgIHNsaWNlSWQsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBkaXYgPSBkMy5zZWxlY3QoZWxlbWVudCk7XG4gIGRpdi5jbGFzc2VkKCdzdXBlcnNldC1sZWdhY3ktY2hhcnQtcm9zZScsIHRydWUpO1xuXG4gIGNvbnN0IGRhdHVtID0gZGF0YTtcbiAgY29uc3QgdGltZXMgPSBPYmplY3Qua2V5cyhkYXR1bSlcbiAgICAubWFwKHQgPT4gcGFyc2VJbnQodCwgMTApKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gIGNvbnN0IG51bUdyYWlucyA9IHRpbWVzLmxlbmd0aDtcbiAgY29uc3QgbnVtR3JvdXBzID0gZGF0dW1bdGltZXNbMF1dLmxlbmd0aDtcbiAgY29uc3QgZm9ybWF0ID0gZ2V0TnVtYmVyRm9ybWF0dGVyKG51bWJlckZvcm1hdCk7XG4gIGNvbnN0IHRpbWVGb3JtYXQgPSBnZXRUaW1lRm9ybWF0dGVyKGRhdGVUaW1lRm9ybWF0KTtcbiAgY29uc3QgY29sb3JGbiA9IENhdGVnb3JpY2FsQ29sb3JOYW1lc3BhY2UuZ2V0U2NhbGUoY29sb3JTY2hlbWUpO1xuXG4gIGQzLnNlbGVjdCgnLm52dG9vbHRpcCcpLnJlbW92ZSgpO1xuICBkaXYuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgY29uc3QgYXJjID0gZDMuc3ZnLmFyYygpO1xuICBjb25zdCBsZWdlbmQgPSBudi5tb2RlbHMubGVnZW5kKCk7XG4gIGNvbnN0IHRvb2x0aXAgPSBudi5tb2RlbHMudG9vbHRpcCgpO1xuICBjb25zdCBzdGF0ZSA9IHsgZGlzYWJsZWQ6IGRhdHVtW3RpbWVzWzBdXS5tYXAoKCkgPT4gZmFsc2UpIH07XG5cbiAgY29uc3Qgc3ZnID0gZGl2LmFwcGVuZCgnc3ZnJykuYXR0cignd2lkdGgnLCB3aWR0aCkuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTtcblxuICBjb25zdCBnID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3Jvc2UnKS5hcHBlbmQoJ2cnKTtcblxuICBjb25zdCBsZWdlbmRXcmFwID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdsZWdlbmRXcmFwJyk7XG5cbiAgZnVuY3Rpb24gbGVnZW5kRGF0YShhZGF0dW0pIHtcbiAgICByZXR1cm4gYWRhdHVtW3RpbWVzWzBdXS5tYXAoKHYsIGkpID0+ICh7XG4gICAgICBkaXNhYmxlZDogc3RhdGUuZGlzYWJsZWRbaV0sXG4gICAgICBrZXk6IHYubmFtZSxcbiAgICB9KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b29sdGlwRGF0YShkLCBpLCBhZGF0dW0pIHtcbiAgICBjb25zdCB0aW1lSW5kZXggPSBNYXRoLmZsb29yKGQuYXJjSWQgLyBudW1Hcm91cHMpO1xuICAgIGNvbnN0IHNlcmllcyA9IHVzZVJpY2hUb29sdGlwXG4gICAgICA/IGFkYXR1bVt0aW1lc1t0aW1lSW5kZXhdXVxuICAgICAgICAgIC5maWx0ZXIodiA9PiAhc3RhdGUuZGlzYWJsZWRbdi5pZCAlIG51bUdyb3Vwc10pXG4gICAgICAgICAgLm1hcCh2ID0+ICh7XG4gICAgICAgICAgICBrZXk6IHYubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiB2LnZhbHVlLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yRm4odi5uYW1lLCBzbGljZUlkKSxcbiAgICAgICAgICAgIGhpZ2hsaWdodDogdi5pZCA9PT0gZC5hcmNJZCxcbiAgICAgICAgICB9KSlcbiAgICAgIDogW3sga2V5OiBkLm5hbWUsIHZhbHVlOiBkLnZhbCwgY29sb3I6IGNvbG9yRm4oZC5uYW1lLCBzbGljZUlkKSB9XTtcblxuICAgIHJldHVybiB7XG4gICAgICBrZXk6ICdEYXRlJyxcbiAgICAgIHZhbHVlOiBkLnRpbWUsXG4gICAgICBzZXJpZXMsXG4gICAgfTtcbiAgfVxuXG4gIGxlZ2VuZC53aWR0aCh3aWR0aCkuY29sb3IoZCA9PiBjb2xvckZuKGQua2V5LCBzbGljZUlkKSk7XG4gIGxlZ2VuZFdyYXAuZGF0dW0obGVnZW5kRGF0YShkYXR1bSkpLmNhbGwobGVnZW5kKTtcblxuICB0b29sdGlwLmhlYWRlckZvcm1hdHRlcih0aW1lRm9ybWF0KS52YWx1ZUZvcm1hdHRlcihmb3JtYXQpO1xuICB0b29sdGlwLmNsYXNzZXMoJ3Rvb2x0aXAnKTtcblxuICAvLyBDb21wdXRlIG1heCByYWRpdXMsIHdoaWNoIHRoZSBsYXJnZXN0IHZhbHVlIHdpbGwgb2NjdXB5XG4gIGNvbnN0IHJvc2VIZWlnaHQgPSBoZWlnaHQgLSBsZWdlbmQuaGVpZ2h0KCk7XG4gIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiBsZWdlbmQuaGVpZ2h0KCkgfTtcbiAgY29uc3QgZWRnZU1hcmdpbiA9IDM1OyAvLyBzcGFjZSBiZXR3ZWVuIG91dGVybW9zdCByYWRpdXMgYW5kIHNsaWNlIGVkZ2VcbiAgY29uc3QgbWF4UmFkaXVzID0gTWF0aC5taW4od2lkdGgsIHJvc2VIZWlnaHQpIC8gMiAtIGVkZ2VNYXJnaW47XG4gIGNvbnN0IGxhYmVsVGhyZXNob2xkID0gMC4wNTtcbiAgY29uc3QgZ3JvID0gODsgLy8gbW91c2VvdmVyIHJhZGl1cyBncm93dGggaW4gcGl4ZWxzXG4gIGNvbnN0IG1pbmkgPSAwLjA3NTtcblxuICBjb25zdCBjZW50ZXJUcmFuc2xhdGUgPSBgdHJhbnNsYXRlKCR7d2lkdGggLyAyfSwke1xuICAgIHJvc2VIZWlnaHQgLyAyICsgbWFyZ2luLnRvcFxuICB9KWA7XG4gIGNvbnN0IHJvc2VXcmFwID0gZ1xuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBjZW50ZXJUcmFuc2xhdGUpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3Jvc2VXcmFwJyk7XG5cbiAgY29uc3QgbGFiZWxzV3JhcCA9IGdcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgY2VudGVyVHJhbnNsYXRlKVxuICAgIC5hdHRyKCdjbGFzcycsICdsYWJlbHNXcmFwJyk7XG5cbiAgY29uc3QgZ3JvdXBMYWJlbHNXcmFwID0gZ1xuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBjZW50ZXJUcmFuc2xhdGUpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2dyb3VwTGFiZWxzV3JhcCcpO1xuXG4gIC8vIENvbXB1dGUgaW5uZXIgYW5kIG91dGVyIGFuZ2xlcyBmb3IgZWFjaCBkYXRhIHBvaW50XG4gIGZ1bmN0aW9uIGNvbXB1dGVBcmNTdGF0ZXMoYWRhdHVtKSB7XG4gICAgLy8gRmluZCB0aGUgbWF4IHN1bSBvZiB2YWx1ZXMgYWNyb3NzIGFsbCB0aW1lXG4gICAgbGV0IG1heFN1bSA9IDA7XG4gICAgbGV0IGdyYWluID0gMDtcbiAgICBjb25zdCBzdW1zID0gW107XG4gICAgZm9yIChjb25zdCB0IG9mIHRpbWVzKSB7XG4gICAgICBjb25zdCBzdW0gPSBkYXR1bVt0XS5yZWR1Y2UoXG4gICAgICAgIChhLCB2LCBpKSA9PiBhICsgKHN0YXRlLmRpc2FibGVkW2ldID8gMCA6IHYudmFsdWUpLFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICAgIG1heFN1bSA9IHN1bSA+IG1heFN1bSA/IHN1bSA6IG1heFN1bTtcbiAgICAgIHN1bXNbZ3JhaW5dID0gc3VtO1xuICAgICAgZ3JhaW4gKz0gMTtcbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIGFuZ2xlIG9jY3VwaWVkIGJ5IGVhY2ggdGltZSBncmFpblxuICAgIGNvbnN0IGR0aGV0YSA9IChNYXRoLlBJICogMikgLyBudW1HcmFpbnM7XG4gICAgY29uc3QgYW5nbGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbnVtR3JhaW5zOyBpICs9IDEpIHtcbiAgICAgIGFuZ2xlcy5wdXNoKGR0aGV0YSAqIGkgLSBNYXRoLlBJIC8gMik7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBwcm9wb3J0aW9uXG4gICAgY29uc3QgUCA9IG1heFJhZGl1cyAvIG1heFN1bTtcbiAgICBjb25zdCBRID0gUCAqIG1heFJhZGl1cztcbiAgICBjb25zdCBjb21wdXRlT3V0ZXJSYWRpdXMgPSAodmFsdWUsIGlubmVyUmFkaXVzKSA9PlxuICAgICAgdXNlQXJlYVByb3BvcnRpb25zXG4gICAgICAgID8gTWF0aC5zcXJ0KFEgKiB2YWx1ZSArIGlubmVyUmFkaXVzICogaW5uZXJSYWRpdXMpXG4gICAgICAgIDogUCAqIHZhbHVlICsgaW5uZXJSYWRpdXM7XG5cbiAgICBjb25zdCBhcmNTdCA9IHtcbiAgICAgIGRhdGE6IFtdLFxuICAgICAgZXh0ZW5kOiB7fSxcbiAgICAgIHB1c2g6IHt9LFxuICAgICAgcGllU3RhcnQ6IHt9LFxuICAgICAgcGllOiB7fSxcbiAgICAgIHBpZU92ZXI6IHt9LFxuICAgICAgbWluaToge30sXG4gICAgICBsYWJlbHM6IFtdLFxuICAgICAgZ3JvdXBMYWJlbHM6IFtdLFxuICAgIH07XG4gICAgbGV0IGFyY0lkID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUdyYWluczsgaSArPSAxKSB7XG4gICAgICBjb25zdCB0ID0gdGltZXNbaV07XG4gICAgICBjb25zdCBzdGFydEFuZ2xlID0gYW5nbGVzW2ldO1xuICAgICAgY29uc3QgZW5kQW5nbGUgPSBhbmdsZXNbaSArIDFdO1xuICAgICAgY29uc3QgRyA9ICgyICogTWF0aC5QSSkgLyBzdW1zW2ldO1xuICAgICAgbGV0IGlubmVyUmFkaXVzID0gMDtcbiAgICAgIGxldCBvdXRlclJhZGl1cztcbiAgICAgIGxldCBwaWVTdGFydEFuZ2xlID0gMDtcbiAgICAgIGxldCBwaWVFbmRBbmdsZTtcbiAgICAgIGZvciAoY29uc3QgdiBvZiBhZGF0dW1bdF0pIHtcbiAgICAgICAgY29uc3QgdmFsID0gc3RhdGUuZGlzYWJsZWRbYXJjSWQgJSBudW1Hcm91cHNdID8gMCA6IHYudmFsdWU7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdGltZSB9ID0gdjtcbiAgICAgICAgdi5pZCA9IGFyY0lkO1xuICAgICAgICBvdXRlclJhZGl1cyA9IGNvbXB1dGVPdXRlclJhZGl1cyh2YWwsIGlubmVyUmFkaXVzKTtcbiAgICAgICAgYXJjU3QuZGF0YS5wdXNoKHtcbiAgICAgICAgICBzdGFydEFuZ2xlLFxuICAgICAgICAgIGVuZEFuZ2xlLFxuICAgICAgICAgIGlubmVyUmFkaXVzLFxuICAgICAgICAgIG91dGVyUmFkaXVzLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgYXJjSWQsXG4gICAgICAgICAgdmFsLFxuICAgICAgICAgIHRpbWUsXG4gICAgICAgIH0pO1xuICAgICAgICBhcmNTdC5leHRlbmRbYXJjSWRdID0ge1xuICAgICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgICAgZW5kQW5nbGUsXG4gICAgICAgICAgaW5uZXJSYWRpdXMsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBvdXRlclJhZGl1czogb3V0ZXJSYWRpdXMgKyBncm8sXG4gICAgICAgIH07XG4gICAgICAgIGFyY1N0LnB1c2hbYXJjSWRdID0ge1xuICAgICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgICAgZW5kQW5nbGUsXG4gICAgICAgICAgaW5uZXJSYWRpdXM6IGlubmVyUmFkaXVzICsgZ3JvLFxuICAgICAgICAgIG91dGVyUmFkaXVzOiBvdXRlclJhZGl1cyArIGdybyxcbiAgICAgICAgfTtcbiAgICAgICAgYXJjU3QucGllU3RhcnRbYXJjSWRdID0ge1xuICAgICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgICAgZW5kQW5nbGUsXG4gICAgICAgICAgaW5uZXJSYWRpdXM6IG1pbmkgKiBtYXhSYWRpdXMsXG4gICAgICAgICAgb3V0ZXJSYWRpdXM6IG1heFJhZGl1cyxcbiAgICAgICAgfTtcbiAgICAgICAgYXJjU3QubWluaVthcmNJZF0gPSB7XG4gICAgICAgICAgc3RhcnRBbmdsZSxcbiAgICAgICAgICBlbmRBbmdsZSxcbiAgICAgICAgICBpbm5lclJhZGl1czogaW5uZXJSYWRpdXMgKiBtaW5pLFxuICAgICAgICAgIG91dGVyUmFkaXVzOiBvdXRlclJhZGl1cyAqIG1pbmksXG4gICAgICAgIH07XG4gICAgICAgIGFyY0lkICs9IDE7XG4gICAgICAgIGlubmVyUmFkaXVzID0gb3V0ZXJSYWRpdXM7XG4gICAgICB9XG4gICAgICBjb25zdCBsYWJlbEFyYyA9IHsgLi4uYXJjU3QuZGF0YVtpICogbnVtR3JvdXBzXSB9O1xuICAgICAgbGFiZWxBcmMub3V0ZXJSYWRpdXMgPSBtYXhSYWRpdXMgKyAyMDtcbiAgICAgIGxhYmVsQXJjLmlubmVyUmFkaXVzID0gbWF4UmFkaXVzICsgMTU7XG4gICAgICBhcmNTdC5sYWJlbHMucHVzaChsYWJlbEFyYyk7XG4gICAgICBmb3IgKGNvbnN0IHYgb2YgYWRhdHVtW3RdLmNvbmNhdCgpLnNvcnQoc29ydFZhbHVlcykpIHtcbiAgICAgICAgY29uc3QgdmFsID0gc3RhdGUuZGlzYWJsZWRbdi5pZCAlIG51bUdyb3Vwc10gPyAwIDogdi52YWx1ZTtcbiAgICAgICAgcGllRW5kQW5nbGUgPSBHICogdmFsICsgcGllU3RhcnRBbmdsZTtcbiAgICAgICAgYXJjU3QucGllW3YuaWRdID0ge1xuICAgICAgICAgIHN0YXJ0QW5nbGU6IHBpZVN0YXJ0QW5nbGUsXG4gICAgICAgICAgZW5kQW5nbGU6IHBpZUVuZEFuZ2xlLFxuICAgICAgICAgIGlubmVyUmFkaXVzOiBtYXhSYWRpdXMgKiBtaW5pLFxuICAgICAgICAgIG91dGVyUmFkaXVzOiBtYXhSYWRpdXMsXG4gICAgICAgICAgcGVyY2VudDogdi52YWx1ZSAvIHN1bXNbaV0sXG4gICAgICAgIH07XG4gICAgICAgIGFyY1N0LnBpZU92ZXJbdi5pZF0gPSB7XG4gICAgICAgICAgc3RhcnRBbmdsZTogcGllU3RhcnRBbmdsZSxcbiAgICAgICAgICBlbmRBbmdsZTogcGllRW5kQW5nbGUsXG4gICAgICAgICAgaW5uZXJSYWRpdXM6IG1heFJhZGl1cyAqIG1pbmksXG4gICAgICAgICAgb3V0ZXJSYWRpdXM6IG1heFJhZGl1cyArIGdybyxcbiAgICAgICAgfTtcbiAgICAgICAgcGllU3RhcnRBbmdsZSA9IHBpZUVuZEFuZ2xlO1xuICAgICAgfVxuICAgIH1cbiAgICBhcmNTdC5ncm91cExhYmVscyA9IGFyY1N0LmRhdGEuc2xpY2UoMCwgbnVtR3JvdXBzKTtcblxuICAgIHJldHVybiBhcmNTdDtcbiAgfVxuXG4gIGxldCBhcmNTdCA9IGNvbXB1dGVBcmNTdGF0ZXMoZGF0dW0pO1xuXG4gIGZ1bmN0aW9uIHR3ZWVuKHRhcmdldCwgcmVzRnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbiBkb1R3ZWVuKGQpIHtcbiAgICAgIGNvbnN0IGludGVycG9sYXRlID0gZDMuaW50ZXJwb2xhdGUoY29weUFyYyhkKSwgY29weUFyYyh0YXJnZXQpKTtcblxuICAgICAgcmV0dXJuIHQgPT4gcmVzRnVuYyhPYmplY3QuYXNzaWduKGQsIGludGVycG9sYXRlKHQpKSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFyY1R3ZWVuKHRhcmdldCkge1xuICAgIHJldHVybiB0d2Vlbih0YXJnZXQsIGQgPT4gYXJjKGQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zbGF0ZVR3ZWVuKHRhcmdldCkge1xuICAgIHJldHVybiB0d2Vlbih0YXJnZXQsIGQgPT4gYHRyYW5zbGF0ZSgke2FyYy5jZW50cm9pZChkKX0pYCk7XG4gIH1cblxuICAvLyBHcmFiIHRoZSBJRCByYW5nZSBvZiBzZWdtZW50cyBzdGFuZCBiZXR3ZWVuXG4gIC8vIHRoaXMgc2VnbWVudCBhbmQgdGhlIGVkZ2Ugb2YgdGhlIGNpcmNsZVxuICBjb25zdCBzZWdtZW50c1RvRWRnZUNhY2hlID0ge307XG4gIGZ1bmN0aW9uIGdldFNlZ21lbnRzVG9FZGdlKGFyY0lkKSB7XG4gICAgaWYgKHNlZ21lbnRzVG9FZGdlQ2FjaGVbYXJjSWRdKSB7XG4gICAgICByZXR1cm4gc2VnbWVudHNUb0VkZ2VDYWNoZVthcmNJZF07XG4gICAgfVxuICAgIGNvbnN0IHRpbWVJbmRleCA9IE1hdGguZmxvb3IoYXJjSWQgLyBudW1Hcm91cHMpO1xuICAgIHNlZ21lbnRzVG9FZGdlQ2FjaGVbYXJjSWRdID0gW2FyY0lkICsgMSwgbnVtR3JvdXBzICogKHRpbWVJbmRleCArIDEpIC0gMV07XG5cbiAgICByZXR1cm4gc2VnbWVudHNUb0VkZ2VDYWNoZVthcmNJZF07XG4gIH1cblxuICAvLyBHZXQgdGhlIElEcyBvZiBhbGwgc2VnbWVudHMgaW4gYSB0aW1lSW5kZXhcbiAgY29uc3Qgc2VnbWVudHNJblRpbWVDYWNoZSA9IHt9O1xuICBmdW5jdGlvbiBnZXRTZWdtZW50c0luVGltZShhcmNJZCkge1xuICAgIGlmIChzZWdtZW50c0luVGltZUNhY2hlW2FyY0lkXSkge1xuICAgICAgcmV0dXJuIHNlZ21lbnRzSW5UaW1lQ2FjaGVbYXJjSWRdO1xuICAgIH1cbiAgICBjb25zdCB0aW1lSW5kZXggPSBNYXRoLmZsb29yKGFyY0lkIC8gbnVtR3JvdXBzKTtcbiAgICBzZWdtZW50c0luVGltZUNhY2hlW2FyY0lkXSA9IFtcbiAgICAgIHRpbWVJbmRleCAqIG51bUdyb3VwcyxcbiAgICAgICh0aW1lSW5kZXggKyAxKSAqIG51bUdyb3VwcyAtIDEsXG4gICAgXTtcblxuICAgIHJldHVybiBzZWdtZW50c0luVGltZUNhY2hlW2FyY0lkXTtcbiAgfVxuXG4gIGxldCBjbGlja0lkID0gLTE7XG4gIGxldCBpblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgY29uc3QgYWUgPSByb3NlV3JhcFxuICAgIC5zZWxlY3RBbGwoJ2cnKVxuICAgIC5kYXRhKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJjU3QuZGF0YSkpKSAvLyBkZWVwIGNvcHkgZGF0YSBzdGF0ZVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3NlZ21lbnQnKVxuICAgIC5jbGFzc2VkKCdjbGlja2FibGUnLCB0cnVlKVxuICAgIC5vbignbW91c2VvdmVyJywgbW91c2VvdmVyKVxuICAgIC5vbignbW91c2VvdXQnLCBtb3VzZW91dClcbiAgICAub24oJ21vdXNlbW92ZScsIG1vdXNlbW92ZSlcbiAgICAub24oJ2NsaWNrJywgY2xpY2spO1xuXG4gIGNvbnN0IGxhYmVscyA9IGxhYmVsc1dyYXBcbiAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAuZGF0YShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFyY1N0LmxhYmVscykpKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3Jvc2VMYWJlbCcpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIGQgPT4gYHRyYW5zbGF0ZSgke2FyYy5jZW50cm9pZChkKX0pYCk7XG5cbiAgbGFiZWxzXG4gICAgLmFwcGVuZCgndGV4dCcpXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgIC5zdHlsZSgnZmlsbCcsICcjMDAwJylcbiAgICAudGV4dChkID0+IHRpbWVGb3JtYXQoZC50aW1lKSk7XG5cbiAgY29uc3QgZ3JvdXBMYWJlbHMgPSBncm91cExhYmVsc1dyYXBcbiAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAuZGF0YShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFyY1N0Lmdyb3VwTGFiZWxzKSkpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdnJyk7XG5cbiAgZ3JvdXBMYWJlbHNcbiAgICAuc3R5bGUoJ29wYWNpdHknLCAwKVxuICAgIC5hdHRyKCdjbGFzcycsICdyb3NlR3JvdXBMYWJlbHMnKVxuICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAuc3R5bGUoJ2ZpbGwnLCAnIzAwMCcpXG4gICAgLnRleHQoZCA9PiBkLm5hbWUpO1xuXG4gIGNvbnN0IGFyY3MgPSBhZVxuICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgIC5hdHRyKCdjbGFzcycsICdhcmMnKVxuICAgIC5hdHRyKCdmaWxsJywgZCA9PiBjb2xvckZuKGQubmFtZSwgc2xpY2VJZCkpXG4gICAgLmF0dHIoJ2QnLCBhcmMpO1xuXG4gIGZ1bmN0aW9uIG1vdXNlbW92ZSgpIHtcbiAgICB0b29sdGlwKCk7XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZW92ZXIoYiwgaSkge1xuICAgIHRvb2x0aXAuZGF0YSh0b29sdGlwRGF0YShiLCBpLCBkYXR1bSkpLmhpZGRlbihmYWxzZSk7XG4gICAgY29uc3QgJHRoaXMgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgJHRoaXMuY2xhc3NlZCgnaG92ZXInLCB0cnVlKTtcbiAgICBpZiAoY2xpY2tJZCA8IDAgJiYgIWluVHJhbnNpdGlvbikge1xuICAgICAgJHRoaXNcbiAgICAgICAgLnNlbGVjdCgncGF0aCcpXG4gICAgICAgIC5pbnRlcnJ1cHQoKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxODApXG4gICAgICAgIC5hdHRyVHdlZW4oJ2QnLCBhcmNUd2VlbihhcmNTdC5leHRlbmRbaV0pKTtcbiAgICAgIGNvbnN0IGVkZ2UgPSBnZXRTZWdtZW50c1RvRWRnZShpKTtcbiAgICAgIGFyY3NcbiAgICAgICAgLmZpbHRlcihkID0+IGVkZ2VbMF0gPD0gZC5hcmNJZCAmJiBkLmFyY0lkIDw9IGVkZ2VbMV0pXG4gICAgICAgIC5pbnRlcnJ1cHQoKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxODApXG4gICAgICAgIC5hdHRyVHdlZW4oJ2QnLCBkID0+IGFyY1R3ZWVuKGFyY1N0LnB1c2hbZC5hcmNJZF0pKGQpKTtcbiAgICB9IGVsc2UgaWYgKCFpblRyYW5zaXRpb24pIHtcbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gZ2V0U2VnbWVudHNJblRpbWUoY2xpY2tJZCk7XG4gICAgICBpZiAoc2VnbWVudHNbMF0gPD0gYi5hcmNJZCAmJiBiLmFyY0lkIDw9IHNlZ21lbnRzWzFdKSB7XG4gICAgICAgICR0aGlzXG4gICAgICAgICAgLnNlbGVjdCgncGF0aCcpXG4gICAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5kdXJhdGlvbigxODApXG4gICAgICAgICAgLmF0dHJUd2VlbignZCcsIGFyY1R3ZWVuKGFyY1N0LnBpZU92ZXJbaV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZW91dChiLCBpKSB7XG4gICAgdG9vbHRpcC5oaWRkZW4odHJ1ZSk7XG4gICAgY29uc3QgJHRoaXMgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgJHRoaXMuY2xhc3NlZCgnaG92ZXInLCBmYWxzZSk7XG4gICAgaWYgKGNsaWNrSWQgPCAwICYmICFpblRyYW5zaXRpb24pIHtcbiAgICAgICR0aGlzXG4gICAgICAgIC5zZWxlY3QoJ3BhdGgnKVxuICAgICAgICAuaW50ZXJydXB0KClcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTgwKVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgYXJjVHdlZW4oYXJjU3QuZGF0YVtpXSkpO1xuICAgICAgY29uc3QgZWRnZSA9IGdldFNlZ21lbnRzVG9FZGdlKGkpO1xuICAgICAgYXJjc1xuICAgICAgICAuZmlsdGVyKGQgPT4gZWRnZVswXSA8PSBkLmFyY0lkICYmIGQuYXJjSWQgPD0gZWRnZVsxXSlcbiAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDE4MClcbiAgICAgICAgLmF0dHJUd2VlbignZCcsIGQgPT4gYXJjVHdlZW4oYXJjU3QuZGF0YVtkLmFyY0lkXSkoZCkpO1xuICAgIH0gZWxzZSBpZiAoIWluVHJhbnNpdGlvbikge1xuICAgICAgY29uc3Qgc2VnbWVudHMgPSBnZXRTZWdtZW50c0luVGltZShjbGlja0lkKTtcbiAgICAgIGlmIChzZWdtZW50c1swXSA8PSBiLmFyY0lkICYmIGIuYXJjSWQgPD0gc2VnbWVudHNbMV0pIHtcbiAgICAgICAgJHRoaXNcbiAgICAgICAgICAuc2VsZWN0KCdwYXRoJylcbiAgICAgICAgICAuaW50ZXJydXB0KClcbiAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgLmR1cmF0aW9uKDE4MClcbiAgICAgICAgICAuYXR0clR3ZWVuKCdkJywgYXJjVHdlZW4oYXJjU3QucGllW2ldKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xpY2soYiwgaSkge1xuICAgIGlmIChpblRyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVsYXkgPSBkMy5ldmVudC5hbHRLZXkgPyAzNzUwIDogMzc1O1xuICAgIGNvbnN0IHNlZ21lbnRzID0gZ2V0U2VnbWVudHNJblRpbWUoaSk7XG4gICAgaWYgKGNsaWNrSWQgPCAwKSB7XG4gICAgICBpblRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgY2xpY2tJZCA9IGk7XG4gICAgICBsYWJlbHNcbiAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCd0cmFuc2Zvcm0nLCBkID0+XG4gICAgICAgICAgdHJhbnNsYXRlVHdlZW4oe1xuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IDAsXG4gICAgICAgICAgICBpbm5lclJhZGl1czogMCxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IGQuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBkLmVuZEFuZ2xlLFxuICAgICAgICAgIH0pKGQpLFxuICAgICAgICApXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApO1xuICAgICAgZ3JvdXBMYWJlbHNcbiAgICAgICAgLmF0dHIoXG4gICAgICAgICAgJ3RyYW5zZm9ybScsXG4gICAgICAgICAgYHRyYW5zbGF0ZSgke2FyYy5jZW50cm9pZCh7XG4gICAgICAgICAgICBvdXRlclJhZGl1czogbWF4UmFkaXVzICsgMjAsXG4gICAgICAgICAgICBpbm5lclJhZGl1czogbWF4UmFkaXVzICsgMTUsXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBhcmNTdC5kYXRhW2ldLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogYXJjU3QuZGF0YVtpXS5lbmRBbmdsZSxcbiAgICAgICAgICB9KX0pYCxcbiAgICAgICAgKVxuICAgICAgICAuaW50ZXJydXB0KClcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZGVsYXkoZGVsYXkpXG4gICAgICAgIC5kdXJhdGlvbihkZWxheSlcbiAgICAgICAgLmF0dHJUd2VlbigndHJhbnNmb3JtJywgZCA9PlxuICAgICAgICAgIHRyYW5zbGF0ZVR3ZWVuKHtcbiAgICAgICAgICAgIG91dGVyUmFkaXVzOiBtYXhSYWRpdXMgKyAyMCxcbiAgICAgICAgICAgIGlubmVyUmFkaXVzOiBtYXhSYWRpdXMgKyAxNSxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IGFyY1N0LnBpZVtzZWdtZW50c1swXSArIGQuYXJjSWRdLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogYXJjU3QucGllW3NlZ21lbnRzWzBdICsgZC5hcmNJZF0uZW5kQW5nbGUsXG4gICAgICAgICAgfSkoZCksXG4gICAgICAgIClcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgZCA9PlxuICAgICAgICAgIHN0YXRlLmRpc2FibGVkW2QuYXJjSWRdIHx8XG4gICAgICAgICAgYXJjU3QucGllW3NlZ21lbnRzWzBdICsgZC5hcmNJZF0ucGVyY2VudCA8IGxhYmVsVGhyZXNob2xkXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogMSxcbiAgICAgICAgKTtcbiAgICAgIGFlLmNsYXNzZWQoXG4gICAgICAgICdjbGlja2FibGUnLFxuICAgICAgICBkID0+IHNlZ21lbnRzWzBdID4gZC5hcmNJZCB8fCBkLmFyY0lkID4gc2VnbWVudHNbMV0sXG4gICAgICApO1xuICAgICAgYXJjc1xuICAgICAgICAuZmlsdGVyKGQgPT4gc2VnbWVudHNbMF0gPD0gZC5hcmNJZCAmJiBkLmFyY0lkIDw9IHNlZ21lbnRzWzFdKVxuICAgICAgICAuaW50ZXJydXB0KClcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oZGVsYXkpXG4gICAgICAgIC5hdHRyVHdlZW4oJ2QnLCBkID0+IGFyY1R3ZWVuKGFyY1N0LnBpZVN0YXJ0W2QuYXJjSWRdKShkKSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oZGVsYXkpXG4gICAgICAgIC5hdHRyVHdlZW4oJ2QnLCBkID0+IGFyY1R3ZWVuKGFyY1N0LnBpZVtkLmFyY0lkXSkoZCkpXG4gICAgICAgIC5lYWNoKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgaW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgYXJjc1xuICAgICAgICAuZmlsdGVyKGQgPT4gc2VnbWVudHNbMF0gPiBkLmFyY0lkIHx8IGQuYXJjSWQgPiBzZWdtZW50c1sxXSlcbiAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZCA9PiBhcmNUd2VlbihhcmNTdC5taW5pW2QuYXJjSWRdKShkKSk7XG4gICAgfSBlbHNlIGlmIChjbGlja0lkIDwgc2VnbWVudHNbMF0gfHwgc2VnbWVudHNbMV0gPCBjbGlja0lkKSB7XG4gICAgICBpblRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgY29uc3QgY2xpY2tTZWdtZW50cyA9IGdldFNlZ21lbnRzSW5UaW1lKGNsaWNrSWQpO1xuICAgICAgbGFiZWxzXG4gICAgICAgIC5pbnRlcnJ1cHQoKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kZWxheShkZWxheSlcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCd0cmFuc2Zvcm0nLCBkID0+XG4gICAgICAgICAgdHJhbnNsYXRlVHdlZW4oYXJjU3QubGFiZWxzW2QuYXJjSWQgLyBudW1Hcm91cHNdKShkKSxcbiAgICAgICAgKVxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcbiAgICAgIGdyb3VwTGFiZWxzXG4gICAgICAgIC5pbnRlcnJ1cHQoKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbihkZWxheSlcbiAgICAgICAgLmF0dHJUd2VlbihcbiAgICAgICAgICAndHJhbnNmb3JtJyxcbiAgICAgICAgICB0cmFuc2xhdGVUd2Vlbih7XG4gICAgICAgICAgICBvdXRlclJhZGl1czogbWF4UmFkaXVzICsgMjAsXG4gICAgICAgICAgICBpbm5lclJhZGl1czogbWF4UmFkaXVzICsgMTUsXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBhcmNTdC5kYXRhW2NsaWNrSWRdLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogYXJjU3QuZGF0YVtjbGlja0lkXS5lbmRBbmdsZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKTtcbiAgICAgIGFlLmNsYXNzZWQoJ2NsaWNrYWJsZScsIHRydWUpO1xuICAgICAgYXJjc1xuICAgICAgICAuZmlsdGVyKGQgPT4gY2xpY2tTZWdtZW50c1swXSA8PSBkLmFyY0lkICYmIGQuYXJjSWQgPD0gY2xpY2tTZWdtZW50c1sxXSlcbiAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZCA9PiBhcmNUd2VlbihhcmNTdC5waWVTdGFydFtkLmFyY0lkXSkoZCkpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZCA9PiBhcmNUd2VlbihhcmNTdC5kYXRhW2QuYXJjSWRdKShkKSlcbiAgICAgICAgLmVhY2goJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICBjbGlja0lkID0gLTE7XG4gICAgICAgICAgaW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgYXJjc1xuICAgICAgICAuZmlsdGVyKGQgPT4gY2xpY2tTZWdtZW50c1swXSA+IGQuYXJjSWQgfHwgZC5hcmNJZCA+IGNsaWNrU2VnbWVudHNbMV0pXG4gICAgICAgIC5pbnRlcnJ1cHQoKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kZWxheShkZWxheSlcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZCA9PiBhcmNUd2VlbihhcmNTdC5kYXRhW2QuYXJjSWRdKShkKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQWN0aXZlKCkge1xuICAgIGNvbnN0IGRlbGF5ID0gZDMuZXZlbnQuYWx0S2V5ID8gMzAwMCA6IDMwMDtcbiAgICBsZWdlbmRXcmFwLmRhdHVtKGxlZ2VuZERhdGEoZGF0dW0pKS5jYWxsKGxlZ2VuZCk7XG4gICAgY29uc3QgbkFyY1N0ID0gY29tcHV0ZUFyY1N0YXRlcyhkYXR1bSk7XG4gICAgaW5UcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICBpZiAoY2xpY2tJZCA8IDApIHtcbiAgICAgIGFyY3NcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcbiAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZCA9PiBhcmNUd2VlbihuQXJjU3QuZGF0YVtkLmFyY0lkXSkoZCkpXG4gICAgICAgIC5lYWNoKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgaW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgYXJjU3QgPSBuQXJjU3Q7XG4gICAgICAgIH0pXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDApXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIGQgPT4gKHN0YXRlLmRpc2FibGVkW2QuYXJjSWQgJSBudW1Hcm91cHNdID8gMCA6IDEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VnbWVudHMgPSBnZXRTZWdtZW50c0luVGltZShjbGlja0lkKTtcbiAgICAgIGFyY3NcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcbiAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZCA9PlxuICAgICAgICAgIHNlZ21lbnRzWzBdIDw9IGQuYXJjSWQgJiYgZC5hcmNJZCA8PSBzZWdtZW50c1sxXVxuICAgICAgICAgICAgPyBhcmNUd2VlbihuQXJjU3QucGllW2QuYXJjSWRdKShkKVxuICAgICAgICAgICAgOiBhcmNUd2VlbihuQXJjU3QubWluaVtkLmFyY0lkXSkoZCksXG4gICAgICAgIClcbiAgICAgICAgLmVhY2goJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICBpblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICBhcmNTdCA9IG5BcmNTdDtcbiAgICAgICAgfSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgZCA9PiAoc3RhdGUuZGlzYWJsZWRbZC5hcmNJZCAlIG51bUdyb3Vwc10gPyAwIDogMSkpO1xuICAgICAgZ3JvdXBMYWJlbHNcbiAgICAgICAgLmludGVycnVwdCgpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGRlbGF5KVxuICAgICAgICAuYXR0clR3ZWVuKCd0cmFuc2Zvcm0nLCBkID0+XG4gICAgICAgICAgdHJhbnNsYXRlVHdlZW4oe1xuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IG1heFJhZGl1cyArIDIwLFxuICAgICAgICAgICAgaW5uZXJSYWRpdXM6IG1heFJhZGl1cyArIDE1LFxuICAgICAgICAgICAgc3RhcnRBbmdsZTogbkFyY1N0LnBpZVtzZWdtZW50c1swXSArIGQuYXJjSWRdLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogbkFyY1N0LnBpZVtzZWdtZW50c1swXSArIGQuYXJjSWRdLmVuZEFuZ2xlLFxuICAgICAgICAgIH0pKGQpLFxuICAgICAgICApXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIGQgPT5cbiAgICAgICAgICBzdGF0ZS5kaXNhYmxlZFtkLmFyY0lkXSB8fFxuICAgICAgICAgIGFyY1N0LnBpZVtzZWdtZW50c1swXSArIGQuYXJjSWRdLnBlcmNlbnQgPCBsYWJlbFRocmVzaG9sZFxuICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICA6IDEsXG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbGVnZW5kLmRpc3BhdGNoLm9uKCdzdGF0ZUNoYW5nZScsIG5ld1N0YXRlID0+IHtcbiAgICBpZiAoc3RhdGUuZGlzYWJsZWQgIT09IG5ld1N0YXRlLmRpc2FibGVkKSB7XG4gICAgICBzdGF0ZS5kaXNhYmxlZCA9IG5ld1N0YXRlLmRpc2FibGVkO1xuICAgICAgdXBkYXRlQWN0aXZlKCk7XG4gICAgfVxuICB9KTtcbn1cblxuUm9zZS5kaXNwbGF5TmFtZSA9ICdSb3NlJztcblJvc2UucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuXG5leHBvcnQgZGVmYXVsdCBSb3NlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./plugins/legacy-plugin-chart-rose/src/Rose.js\n");

/***/ }),

/***/ "./node_modules/nvd3-fork/build/nv.d3.js":
/*!***********************************************!*\
  !*** ./node_modules/nvd3-fork/build/nv.d3.js ***!
  \***********************************************/
/***/ (() => {

throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/app/superset-frontend/node_modules/nvd3-fork/build/nv.d3.js'");

/***/ }),

/***/ "./packages/superset-ui-core/src/chart/components/reactify.tsx":
/*!*********************************************************************!*\
  !*** ./packages/superset-ui-core/src/chart/components/reactify.tsx ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ reactify)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nfunction reactify(renderFn, callbacks) {\n  class ReactifiedComponent extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n\n    constructor(props) {\n      super(props);this.container = void 0;\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n    componentDidMount() {\n      this.execute();\n    }\n    componentDidUpdate() {\n      this.execute();\n    }\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks != null && callbacks.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n    setContainerRef(ref) {\n      this.container = ref;\n    }\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n    render() {\n      const { id, className } = this.props;\n      return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { ref: this.setContainerRef, id: id, className: className });\n    } // @ts-ignore\n    __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n      this[key] = eval(code);}}const ReactifiedClass = ReactifiedComponent;\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n  return ReactifiedComponent;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(reactify, \"reactify\", \"/app/superset-frontend/packages/superset-ui-core/src/chart/components/reactify.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zdXBlcnNldC11aS1jb3JlL3NyYy9jaGFydC9jb21wb25lbnRzL3JlYWN0aWZ5LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBO0FBK0JBO0FBSUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBR0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vcGFja2FnZXMvc3VwZXJzZXQtdWktY29yZS9zcmMvY2hhcnQvY29tcG9uZW50cy9yZWFjdGlmeS50c3g/ZWNhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gVE9ETzogTm90ZSB0aGF0IGlkIGFuZCBjbGFzc05hbWUgY2FuIGNvbGxpZGUgYmV0d2VlbiBQcm9wcyBhbmQgUmVhY3RpZnlQcm9wc1xuLy8gbGVhZGluZyB0byAobGlrZWx5KSB1bmV4cGVjdGVkIGJlaGF2aW9ycy4gV2Ugc2hvdWxkIGVpdGhlciByZXF1aXJlIFByb3BzIHRvIG5vdFxuLy8gY29udGFpbiBhbiBpZC9jbGFzc05hbWUsIG9yIG5vdCBjb21iaW5lIHRoZW0gKHZpYSBpbnRlcnNlY3Rpb24pLCBpbnN0ZWFkIHByZWZlcnJpbmdcbi8vIHdyYXBwaW5nIChjb21wb3NpdGlvbikuIEFzIGFuIGV4YW1wbGU6XG4vLyBpbnRlcmZhY2UgTXlQcm9wcyB7XG4vLyAgIGlkOiBudW1iZXI7XG4vLyB9XG4vLyBmdW5jdGlvbiBteVJlbmRlcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogUmVhZG9ubHk8TXlQcm9wcz4pOiB2b2lkIHtcbi8vICAgcHJvcHMuaWQgLy8gdW51c2FibGU6IGlkIGlzIHN0cmluZyAmIG51bWJlclxuLy8gfVxuLy8gbmV3IChyZWFjdGlmeShteVJlbmRlcikpKHsgaWQ6IDUgfSk7IC8vIGVycm9yOiBpZCBoYXMgdG8gYmUgc3RyaW5nICYgbnVtYmVyXG5cbmV4cG9ydCB0eXBlIFJlYWN0aWZ5UHJvcHMgPSB7XG4gIGlkPzogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59O1xuXG4vLyBUT0RPOiBhZGQgbW9yZSBSZWFjdCBsaWZlY3ljbGUgY2FsbGJhY2tzIGFzIG5lZWRlZFxuZXhwb3J0IHR5cGUgTGlmZUN5Y2xlQ2FsbGJhY2tzID0ge1xuICBjb21wb25lbnRXaWxsVW5tb3VudD86ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckZ1bmNUeXBlPFByb3BzPiB7XG4gIChjb250YWluZXI6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogUmVhZG9ubHk8UHJvcHMgJiBSZWFjdGlmeVByb3BzPik6IHZvaWQ7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICBkZWZhdWx0UHJvcHM/OiBQYXJ0aWFsPFByb3BzICYgUmVhY3RpZnlQcm9wcz47XG4gIHByb3BUeXBlcz86IFJlYWN0LldlYWtWYWxpZGF0aW9uTWFwPFByb3BzICYgUmVhY3RpZnlQcm9wcz47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlYWN0aWZ5PFByb3BzIGV4dGVuZHMgb2JqZWN0PihcbiAgcmVuZGVyRm46IFJlbmRlckZ1bmNUeXBlPFByb3BzPixcbiAgY2FsbGJhY2tzPzogTGlmZUN5Y2xlQ2FsbGJhY2tzLFxuKTogUmVhY3QuQ29tcG9uZW50Q2xhc3M8UHJvcHMgJiBSZWFjdGlmeVByb3BzPiB7XG4gIGNsYXNzIFJlYWN0aWZpZWRDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMgJiBSZWFjdGlmeVByb3BzPiB7XG4gICAgY29udGFpbmVyPzogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMgJiBSZWFjdGlmeVByb3BzKSB7XG4gICAgICBzdXBlcihwcm9wcyk7XG4gICAgICB0aGlzLnNldENvbnRhaW5lclJlZiA9IHRoaXMuc2V0Q29udGFpbmVyUmVmLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGNhbGxiYWNrcz8uY29tcG9uZW50V2lsbFVubW91bnQpIHtcbiAgICAgICAgY2FsbGJhY2tzLmNvbXBvbmVudFdpbGxVbm1vdW50LmJpbmQodGhpcykoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb250YWluZXJSZWYocmVmOiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgdGhpcy5jb250YWluZXIgPSByZWY7XG4gICAgfVxuXG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICByZW5kZXJGbih0aGlzLmNvbnRhaW5lciwgdGhpcy5wcm9wcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgY29uc3QgeyBpZCwgY2xhc3NOYW1lIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICByZXR1cm4gPGRpdiByZWY9e3RoaXMuc2V0Q29udGFpbmVyUmVmfSBpZD17aWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBSZWFjdGlmaWVkQ2xhc3M6IFJlYWN0LkNvbXBvbmVudENsYXNzPFByb3BzICYgUmVhY3RpZnlQcm9wcz4gPVxuICAgIFJlYWN0aWZpZWRDb21wb25lbnQ7XG5cbiAgaWYgKHJlbmRlckZuLmRpc3BsYXlOYW1lKSB7XG4gICAgUmVhY3RpZmllZENsYXNzLmRpc3BsYXlOYW1lID0gcmVuZGVyRm4uZGlzcGxheU5hbWU7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2ZvcmJpZC1mb3JlaWduLXByb3AtdHlwZXNcbiAgaWYgKHJlbmRlckZuLnByb3BUeXBlcykge1xuICAgIFJlYWN0aWZpZWRDbGFzcy5wcm9wVHlwZXMgPSB7XG4gICAgICAuLi5SZWFjdGlmaWVkQ2xhc3MucHJvcFR5cGVzLFxuICAgICAgLi4ucmVuZGVyRm4ucHJvcFR5cGVzLFxuICAgIH07XG4gIH1cbiAgaWYgKHJlbmRlckZuLmRlZmF1bHRQcm9wcykge1xuICAgIFJlYWN0aWZpZWRDbGFzcy5kZWZhdWx0UHJvcHMgPSByZW5kZXJGbi5kZWZhdWx0UHJvcHM7XG4gIH1cblxuICByZXR1cm4gUmVhY3RpZmllZENvbXBvbmVudDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/superset-ui-core/src/chart/components/reactify.tsx\n");

/***/ })

}]);