/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["src_filters_components_Range_RangeFilterPlugin_tsx"],{

/***/ "./node_modules/emotion-rgba/dist/index.js":
/*!*************************************************!*\
  !*** ./node_modules/emotion-rgba/dist/index.js ***!
  \*************************************************/
/***/ (() => {

throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/app/superset-frontend/node_modules/emotion-rgba/dist/index.js'");

/***/ }),

/***/ "./src/filters/components/Range/RangeFilterPlugin.tsx":
/*!************************************************************!*\
  !*** ./src/filters/components/Range/RangeFilterPlugin.tsx ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RangeFilterPlugin)\n/* harmony export */ });\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/number-format/NumberFormatterRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/number-format/NumberFormats.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/utils/ensureIsArray.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/query/getColumnLabel.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/translation/TranslatorSingleton.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var emotion_rgba__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion-rgba */ \"./node_modules/emotion-rgba/dist/index.js\");\n/* harmony import */ var emotion_rgba__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(emotion_rgba__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var src_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/components */ \"./src/components/index.ts\");\n/* harmony import */ var src_dashboard_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/dashboard/types */ \"./src/dashboard/types.ts\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common */ \"./src/filters/components/common.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */ \"./src/filters/utils.ts\");\n/* harmony import */ var _SingleValueType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SingleValueType */ \"./src/filters/components/Range/SingleValueType.ts\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\n\n\n\n\n\nconst LIGHT_BLUE = '#99e7f0';\nconst DARK_BLUE = '#6dd3e3';\nconst LIGHT_GRAY = '#f5f5f5';\nconst DARK_GRAY = '#e1e1e1';\nconst StyledMinSlider = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__.styled)((0,src_components__WEBPACK_IMPORTED_MODULE_2__.AntdSlider))`\n  ${(_ref) => {var _theme$colors$validat, _theme$colors$validat2;let { theme, validateStatus } = _ref;return `\n  .ant-slider-rail {\n    background-color: ${validateStatus ? (_theme$colors$validat = theme.colors[validateStatus]) == null ? void 0 : _theme$colors$validat.light1 : LIGHT_BLUE};\n  }\n\n  .ant-slider-track {\n    background-color: ${LIGHT_GRAY};\n  }\n\n  &:hover {\n    .ant-slider-rail {\n      background-color: ${validateStatus ? (_theme$colors$validat2 = theme.colors[validateStatus]) == null ? void 0 : _theme$colors$validat2.base : DARK_BLUE};\n    }\n\n    .ant-slider-track {\n      background-color: ${DARK_GRAY};\n    }\n  }\n  `;}}\n`;\nconst Wrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_7__.styled.div`\n  ${(_ref2) => {var _theme$colors, _theme$colors2, _theme$colors$validat3, _theme$colors$validat4, _theme$colors3, _theme$colors$validat5, _theme$colors$validat6;let { theme, validateStatus, orientation, isOverflowing } = _ref2;return `\n    border: 1px solid transparent;\n    &:focus {\n      border: 1px solid\n        ${(_theme$colors = theme.colors[validateStatus || 'primary']) == null ? void 0 : _theme$colors.base};\n      outline: 0;\n      box-shadow: 0 0 0 3px\n        ${(0,emotion_rgba__WEBPACK_IMPORTED_MODULE_1__.rgba)((_theme$colors2 = theme.colors[validateStatus || 'primary']) == null ? void 0 : _theme$colors2.base, 0.2)};\n    }\n    & .ant-slider {\n      margin-top: ${orientation === src_dashboard_types__WEBPACK_IMPORTED_MODULE_3__.FilterBarOrientation.HORIZONTAL ? 0 : theme.gridUnit}px;\n      margin-bottom: ${orientation === src_dashboard_types__WEBPACK_IMPORTED_MODULE_3__.FilterBarOrientation.HORIZONTAL ? 0 : theme.gridUnit * 5}px;\n\n      ${orientation === src_dashboard_types__WEBPACK_IMPORTED_MODULE_3__.FilterBarOrientation.HORIZONTAL &&\n  !isOverflowing &&\n  `line-height: 1.2;`}\n\n      & .ant-slider-track {\n        background-color: ${validateStatus && ((_theme$colors$validat3 = theme.colors[validateStatus]) == null ? void 0 : _theme$colors$validat3.light1)};\n      }\n      & .ant-slider-handle {\n        border: ${validateStatus && `2px solid ${(_theme$colors$validat4 = theme.colors[validateStatus]) == null ? void 0 : _theme$colors$validat4.light1}`};\n        &:focus {\n          box-shadow: 0 0 0 3px\n            ${(0,emotion_rgba__WEBPACK_IMPORTED_MODULE_1__.rgba)((_theme$colors3 = theme.colors[validateStatus || 'primary']) == null ? void 0 : _theme$colors3.base, 0.2)};\n        }\n      }\n      & .ant-slider-mark {\n        font-size: ${theme.typography.sizes.s}px;\n      }\n\n      &:hover {\n        & .ant-slider-track {\n          background-color: ${validateStatus && ((_theme$colors$validat5 = theme.colors[validateStatus]) == null ? void 0 : _theme$colors$validat5.base)};\n        }\n        & .ant-slider-handle {\n          border: ${validateStatus && `2px solid ${(_theme$colors$validat6 = theme.colors[validateStatus]) == null ? void 0 : _theme$colors$validat6.base}`};\n        }\n      }\n    }\n  `;}}\n`;\nconst numberFormatter = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.getNumberFormatter)(_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"].SMART_NUMBER);\nconst tipFormatter = (value) => numberFormatter(value);\nconst getLabel = (lower, upper) => {\n  if (lower !== null && upper !== null && lower === upper) {\n    return `x = ${numberFormatter(lower)}`;\n  }\n  if (lower !== null && upper !== null) {\n    return `${numberFormatter(lower)} ≤ x ≤ ${numberFormatter(upper)}`;\n  }\n  if (lower !== null) {\n    return `x ≥ ${numberFormatter(lower)}`;\n  }\n  if (upper !== null) {\n    return `x ≤ ${numberFormatter(upper)}`;\n  }\n  return '';\n};\nconst getMarks = (lower, upper) => {\n  const newMarks = {};\n  if (lower !== null) {\n    newMarks[lower] = numberFormatter(lower);\n  }\n  if (upper !== null) {\n    newMarks[upper] = numberFormatter(upper);\n  }\n  return newMarks;\n};\nfunction RangeFilterPlugin(props) {\n  const { data, formData, height, width, setDataMask, setFocusedFilter, unsetFocusedFilter, setHoveredFilter, unsetHoveredFilter, setFilterActive, filterState, inputRef, filterBarOrientation, isOverflowingFilterBar } = props;\n  const [row] = data;\n  // @ts-ignore\n  const { min, max } = row;\n  const { groupby, defaultValue, enableSingleValue } = formData;\n  const enableSingleMinValue = enableSingleValue === _SingleValueType__WEBPACK_IMPORTED_MODULE_6__.SingleValueType.Minimum;\n  const enableSingleMaxValue = enableSingleValue === _SingleValueType__WEBPACK_IMPORTED_MODULE_6__.SingleValueType.Maximum;\n  const enableSingleExactValue = enableSingleValue === _SingleValueType__WEBPACK_IMPORTED_MODULE_6__.SingleValueType.Exact;\n  const rangeValue = enableSingleValue === undefined;\n  const [col = ''] = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(groupby).map(_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue != null ? defaultValue : [min, enableSingleExactValue ? min : max]);\n  const [marks, setMarks] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const minIndex = 0;\n  const maxIndex = 1;\n  const minMax = value != null ? value : [min, max];\n  const getBounds = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value) => {\n    const [lowerRaw, upperRaw] = value;\n    if (enableSingleExactValue) {\n      return { lower: lowerRaw, upper: upperRaw };\n    }\n    return {\n      lower: lowerRaw > min ? lowerRaw : null,\n      upper: upperRaw < max ? upperRaw : null\n    };\n  }, [max, min, enableSingleExactValue]);\n  const handleAfterChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value) => {\n    setValue(value);\n    const { lower, upper } = getBounds(value);\n    setMarks(getMarks(lower, upper));\n    setDataMask({\n      extraFormData: (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getRangeExtraFormData)(col, lower, upper),\n      filterState: {\n        value: lower !== null || upper !== null ? value : null,\n        label: getLabel(lower, upper)\n      }\n    });\n  }, [col, getBounds, setDataMask]);\n  const handleChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value) => {\n    setValue(value);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {var _filterState$value;\n    // when switch filter type and queriesData still not updated we need ignore this case (in FilterBar)\n    if ((row == null ? void 0 : row.min) === undefined && (row == null ? void 0 : row.max) === undefined) {\n      return;\n    }\n    let filterStateValue = (_filterState$value = filterState.value) != null ? _filterState$value : [min, max];\n    if (enableSingleMaxValue) {\n      const filterStateMax = filterStateValue[maxIndex] <= minMax[maxIndex] ?\n      filterStateValue[maxIndex] :\n      minMax[maxIndex];\n      filterStateValue = [min, filterStateMax];\n    } else\n    if (enableSingleMinValue) {\n      const filterStateMin = filterStateValue[minIndex] >= minMax[minIndex] ?\n      filterStateValue[minIndex] :\n      minMax[minIndex];\n      filterStateValue = [filterStateMin, max];\n    } else\n    if (enableSingleExactValue) {\n      filterStateValue = [minMax[minIndex], minMax[minIndex]];\n    }\n    handleAfterChange(filterStateValue);\n  }, [\n  enableSingleMaxValue,\n  enableSingleMinValue,\n  enableSingleExactValue,\n  JSON.stringify(filterState.value),\n  JSON.stringify(data)]\n  );\n  const formItemExtra = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (filterState.validateMessage) {\n      return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.StatusMessage, { status: filterState.validateStatus },\n      filterState.validateMessage\n      );\n    }\n    return undefined;\n  }, [filterState.validateMessage, filterState.validateStatus]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (enableSingleMaxValue) {\n      handleAfterChange([min, minMax[maxIndex]]);\n    }\n  }, [enableSingleMaxValue]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (enableSingleMinValue) {\n      handleAfterChange([minMax[minIndex], max]);\n    }\n  }, [enableSingleMinValue]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (enableSingleExactValue) {\n      handleAfterChange([minMax[minIndex], minMax[minIndex]]);\n    }\n  }, [enableSingleExactValue]);\n  return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.FilterPluginStyle, { height: height, width: width },\n  Number.isNaN(Number(min)) || Number.isNaN(Number(max)) ? (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"h4\", null, (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Chosen non-numeric column')) : (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.StyledFormItem, { extra: formItemExtra },\n  (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(Wrapper, { tabIndex: -1, ref: inputRef, validateStatus: filterState.validateStatus, orientation: filterBarOrientation, isOverflowing: isOverflowingFilterBar, onFocus: setFocusedFilter, onBlur: unsetFocusedFilter, onMouseEnter: setHoveredFilter, onMouseLeave: unsetHoveredFilter, onMouseDown: () => setFilterActive(true), onMouseUp: () => setFilterActive(false) },\n  enableSingleMaxValue && (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_2__.AntdSlider, { min: min, max: max, value: minMax[maxIndex], tipFormatter: tipFormatter, marks: marks, onAfterChange: (value) => handleAfterChange([min, value]), onChange: (value) => handleChange([min, value]) }),\n  enableSingleMinValue && (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(StyledMinSlider, { validateStatus: filterState.validateStatus, min: min, max: max, value: minMax[minIndex], tipFormatter: tipFormatter, marks: marks, onAfterChange: (value) => handleAfterChange([value, max]), onChange: (value) => handleChange([value, max]) }),\n  enableSingleExactValue && (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_2__.AntdSlider, { min: min, max: max, included: false, value: minMax[minIndex], tipFormatter: tipFormatter, marks: marks, onAfterChange: (value) => handleAfterChange([value, value]), onChange: (value) => handleChange([value, value]) }),\n  rangeValue && (0,_emotion_react__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_2__.AntdSlider, { range: true, min: min, max: max, value: minMax, onAfterChange: handleAfterChange, onChange: handleChange, tipFormatter: tipFormatter, marks: marks })\n  )\n  )\n  );\n}__signature__(RangeFilterPlugin, \"useState{[value, setValue](defaultValue ?? [min, enableSingleExactValue ? min : max])}\\nuseState{[marks, setMarks]({})}\\nuseCallback{getBounds}\\nuseCallback{handleAfterChange}\\nuseCallback{handleChange}\\nuseEffect{}\\nuseMemo{formItemExtra}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(LIGHT_BLUE, \"LIGHT_BLUE\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(DARK_BLUE, \"DARK_BLUE\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(LIGHT_GRAY, \"LIGHT_GRAY\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(DARK_GRAY, \"DARK_GRAY\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(StyledMinSlider, \"StyledMinSlider\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(Wrapper, \"Wrapper\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(numberFormatter, \"numberFormatter\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(tipFormatter, \"tipFormatter\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(getLabel, \"getLabel\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(getMarks, \"getMarks\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");reactHotLoader.register(RangeFilterPlugin, \"RangeFilterPlugin\", \"/app/superset-frontend/src/filters/components/Range/RangeFilterPlugin.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmlsdGVycy9jb21wb25lbnRzL1JhbmdlL1JhbmdlRmlsdGVyUGx1Z2luLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTs7QUFHQTs7OztBQUtBOzs7OztBQU1BOzs7O0FBS0E7OztBQUdBO0FBQ0E7QUFFQTtBQUtBOzs7O0FBSUE7OztBQUdBOzs7QUFJQTtBQUdBOztBQUlBO0FBQ0E7QUFDQTs7O0FBS0E7OztBQUtBOzs7QUFJQTs7OztBQUlBOzs7OztBQU1BOzs7QUFLQTs7OztBQUtBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBRUE7QUFJQTtBQWFBO0FBV0E7QUFZQTtBQVlBO0FBWUE7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3NyYy9maWx0ZXJzL2NvbXBvbmVudHMvUmFuZ2UvUmFuZ2VGaWx0ZXJQbHVnaW4udHN4P2Q2MDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgZW5zdXJlSXNBcnJheSxcbiAgZ2V0Q29sdW1uTGFiZWwsXG4gIGdldE51bWJlckZvcm1hdHRlcixcbiAgTnVtYmVyRm9ybWF0cyxcbiAgc3R5bGVkLFxuICB0LFxufSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZ2JhIH0gZnJvbSAnZW1vdGlvbi1yZ2JhJztcbmltcG9ydCB7IEFudGRTbGlkZXIgfSBmcm9tICdzcmMvY29tcG9uZW50cyc7XG5pbXBvcnQgeyBGaWx0ZXJCYXJPcmllbnRhdGlvbiB9IGZyb20gJ3NyYy9kYXNoYm9hcmQvdHlwZXMnO1xuaW1wb3J0IHsgUGx1Z2luRmlsdGVyUmFuZ2VQcm9wcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgU3RhdHVzTWVzc2FnZSwgU3R5bGVkRm9ybUl0ZW0sIEZpbHRlclBsdWdpblN0eWxlIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGdldFJhbmdlRXh0cmFGb3JtRGF0YSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFNpbmdsZVZhbHVlVHlwZSB9IGZyb20gJy4vU2luZ2xlVmFsdWVUeXBlJztcblxuY29uc3QgTElHSFRfQkxVRSA9ICcjOTllN2YwJztcbmNvbnN0IERBUktfQkxVRSA9ICcjNmRkM2UzJztcbmNvbnN0IExJR0hUX0dSQVkgPSAnI2Y1ZjVmNSc7XG5jb25zdCBEQVJLX0dSQVkgPSAnI2UxZTFlMSc7XG5cbmNvbnN0IFN0eWxlZE1pblNsaWRlciA9IHN0eWxlZChBbnRkU2xpZGVyKTx7XG4gIHZhbGlkYXRlU3RhdHVzPzogJ2Vycm9yJyB8ICd3YXJuaW5nJyB8ICdpbmZvJztcbn0+YFxuICAkeyh7IHRoZW1lLCB2YWxpZGF0ZVN0YXR1cyB9KSA9PiBgXG4gIC5hbnQtc2xpZGVyLXJhaWwge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7XG4gICAgICB2YWxpZGF0ZVN0YXR1cyA/IHRoZW1lLmNvbG9yc1t2YWxpZGF0ZVN0YXR1c10/LmxpZ2h0MSA6IExJR0hUX0JMVUVcbiAgICB9O1xuICB9XG5cbiAgLmFudC1zbGlkZXItdHJhY2sge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7TElHSFRfR1JBWX07XG4gIH1cblxuICAmOmhvdmVyIHtcbiAgICAuYW50LXNsaWRlci1yYWlsIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7XG4gICAgICAgIHZhbGlkYXRlU3RhdHVzID8gdGhlbWUuY29sb3JzW3ZhbGlkYXRlU3RhdHVzXT8uYmFzZSA6IERBUktfQkxVRVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAuYW50LXNsaWRlci10cmFjayB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke0RBUktfR1JBWX07XG4gICAgfVxuICB9XG4gIGB9XG5gO1xuXG5jb25zdCBXcmFwcGVyID0gc3R5bGVkLmRpdjx7XG4gIHZhbGlkYXRlU3RhdHVzPzogJ2Vycm9yJyB8ICd3YXJuaW5nJyB8ICdpbmZvJztcbiAgb3JpZW50YXRpb24/OiBGaWx0ZXJCYXJPcmllbnRhdGlvbjtcbiAgaXNPdmVyZmxvd2luZz86IGJvb2xlYW47XG59PmBcbiAgJHsoeyB0aGVtZSwgdmFsaWRhdGVTdGF0dXMsIG9yaWVudGF0aW9uLCBpc092ZXJmbG93aW5nIH0pID0+IGBcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAmOmZvY3VzIHtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkXG4gICAgICAgICR7dGhlbWUuY29sb3JzW3ZhbGlkYXRlU3RhdHVzIHx8ICdwcmltYXJ5J10/LmJhc2V9O1xuICAgICAgb3V0bGluZTogMDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweFxuICAgICAgICAke3JnYmEodGhlbWUuY29sb3JzW3ZhbGlkYXRlU3RhdHVzIHx8ICdwcmltYXJ5J10/LmJhc2UsIDAuMil9O1xuICAgIH1cbiAgICAmIC5hbnQtc2xpZGVyIHtcbiAgICAgIG1hcmdpbi10b3A6ICR7XG4gICAgICAgIG9yaWVudGF0aW9uID09PSBGaWx0ZXJCYXJPcmllbnRhdGlvbi5IT1JJWk9OVEFMID8gMCA6IHRoZW1lLmdyaWRVbml0XG4gICAgICB9cHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAke1xuICAgICAgICBvcmllbnRhdGlvbiA9PT0gRmlsdGVyQmFyT3JpZW50YXRpb24uSE9SSVpPTlRBTCA/IDAgOiB0aGVtZS5ncmlkVW5pdCAqIDVcbiAgICAgIH1weDtcblxuICAgICAgJHtcbiAgICAgICAgb3JpZW50YXRpb24gPT09IEZpbHRlckJhck9yaWVudGF0aW9uLkhPUklaT05UQUwgJiZcbiAgICAgICAgIWlzT3ZlcmZsb3dpbmcgJiZcbiAgICAgICAgYGxpbmUtaGVpZ2h0OiAxLjI7YFxuICAgICAgfVxuXG4gICAgICAmIC5hbnQtc2xpZGVyLXRyYWNrIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtcbiAgICAgICAgICB2YWxpZGF0ZVN0YXR1cyAmJiB0aGVtZS5jb2xvcnNbdmFsaWRhdGVTdGF0dXNdPy5saWdodDFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgICYgLmFudC1zbGlkZXItaGFuZGxlIHtcbiAgICAgICAgYm9yZGVyOiAke1xuICAgICAgICAgIHZhbGlkYXRlU3RhdHVzICYmIGAycHggc29saWQgJHt0aGVtZS5jb2xvcnNbdmFsaWRhdGVTdGF0dXNdPy5saWdodDF9YFxuICAgICAgICB9O1xuICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAzcHhcbiAgICAgICAgICAgICR7cmdiYSh0aGVtZS5jb2xvcnNbdmFsaWRhdGVTdGF0dXMgfHwgJ3ByaW1hcnknXT8uYmFzZSwgMC4yKX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICYgLmFudC1zbGlkZXItbWFyayB7XG4gICAgICAgIGZvbnQtc2l6ZTogJHt0aGVtZS50eXBvZ3JhcGh5LnNpemVzLnN9cHg7XG4gICAgICB9XG5cbiAgICAgICY6aG92ZXIge1xuICAgICAgICAmIC5hbnQtc2xpZGVyLXRyYWNrIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke1xuICAgICAgICAgICAgdmFsaWRhdGVTdGF0dXMgJiYgdGhlbWUuY29sb3JzW3ZhbGlkYXRlU3RhdHVzXT8uYmFzZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgJiAuYW50LXNsaWRlci1oYW5kbGUge1xuICAgICAgICAgIGJvcmRlcjogJHtcbiAgICAgICAgICAgIHZhbGlkYXRlU3RhdHVzICYmIGAycHggc29saWQgJHt0aGVtZS5jb2xvcnNbdmFsaWRhdGVTdGF0dXNdPy5iYXNlfWBcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgfVxuYDtcblxuY29uc3QgbnVtYmVyRm9ybWF0dGVyID0gZ2V0TnVtYmVyRm9ybWF0dGVyKE51bWJlckZvcm1hdHMuU01BUlRfTlVNQkVSKTtcblxuY29uc3QgdGlwRm9ybWF0dGVyID0gKHZhbHVlOiBudW1iZXIpID0+IG51bWJlckZvcm1hdHRlcih2YWx1ZSk7XG5cbmNvbnN0IGdldExhYmVsID0gKGxvd2VyOiBudW1iZXIgfCBudWxsLCB1cHBlcjogbnVtYmVyIHwgbnVsbCk6IHN0cmluZyA9PiB7XG4gIGlmIChsb3dlciAhPT0gbnVsbCAmJiB1cHBlciAhPT0gbnVsbCAmJiBsb3dlciA9PT0gdXBwZXIpIHtcbiAgICByZXR1cm4gYHggPSAke251bWJlckZvcm1hdHRlcihsb3dlcil9YDtcbiAgfVxuICBpZiAobG93ZXIgIT09IG51bGwgJiYgdXBwZXIgIT09IG51bGwpIHtcbiAgICByZXR1cm4gYCR7bnVtYmVyRm9ybWF0dGVyKGxvd2VyKX0g4omkIHgg4omkICR7bnVtYmVyRm9ybWF0dGVyKHVwcGVyKX1gO1xuICB9XG4gIGlmIChsb3dlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiBgeCDiiaUgJHtudW1iZXJGb3JtYXR0ZXIobG93ZXIpfWA7XG4gIH1cbiAgaWYgKHVwcGVyICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGB4IOKJpCAke251bWJlckZvcm1hdHRlcih1cHBlcil9YDtcbiAgfVxuICByZXR1cm4gJyc7XG59O1xuXG5jb25zdCBnZXRNYXJrcyA9IChcbiAgbG93ZXI6IG51bWJlciB8IG51bGwsXG4gIHVwcGVyOiBudW1iZXIgfCBudWxsLFxuKTogeyBba2V5OiBudW1iZXJdOiBzdHJpbmcgfSA9PiB7XG4gIGNvbnN0IG5ld01hcmtzOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9ID0ge307XG4gIGlmIChsb3dlciAhPT0gbnVsbCkge1xuICAgIG5ld01hcmtzW2xvd2VyXSA9IG51bWJlckZvcm1hdHRlcihsb3dlcik7XG4gIH1cbiAgaWYgKHVwcGVyICE9PSBudWxsKSB7XG4gICAgbmV3TWFya3NbdXBwZXJdID0gbnVtYmVyRm9ybWF0dGVyKHVwcGVyKTtcbiAgfVxuICByZXR1cm4gbmV3TWFya3M7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSYW5nZUZpbHRlclBsdWdpbihwcm9wczogUGx1Z2luRmlsdGVyUmFuZ2VQcm9wcykge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBmb3JtRGF0YSxcbiAgICBoZWlnaHQsXG4gICAgd2lkdGgsXG4gICAgc2V0RGF0YU1hc2ssXG4gICAgc2V0Rm9jdXNlZEZpbHRlcixcbiAgICB1bnNldEZvY3VzZWRGaWx0ZXIsXG4gICAgc2V0SG92ZXJlZEZpbHRlcixcbiAgICB1bnNldEhvdmVyZWRGaWx0ZXIsXG4gICAgc2V0RmlsdGVyQWN0aXZlLFxuICAgIGZpbHRlclN0YXRlLFxuICAgIGlucHV0UmVmLFxuICAgIGZpbHRlckJhck9yaWVudGF0aW9uLFxuICAgIGlzT3ZlcmZsb3dpbmdGaWx0ZXJCYXIsXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW3Jvd10gPSBkYXRhO1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IHsgbWluLCBtYXggfTogeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfSA9IHJvdztcbiAgY29uc3QgeyBncm91cGJ5LCBkZWZhdWx0VmFsdWUsIGVuYWJsZVNpbmdsZVZhbHVlIH0gPSBmb3JtRGF0YTtcblxuICBjb25zdCBlbmFibGVTaW5nbGVNaW5WYWx1ZSA9IGVuYWJsZVNpbmdsZVZhbHVlID09PSBTaW5nbGVWYWx1ZVR5cGUuTWluaW11bTtcbiAgY29uc3QgZW5hYmxlU2luZ2xlTWF4VmFsdWUgPSBlbmFibGVTaW5nbGVWYWx1ZSA9PT0gU2luZ2xlVmFsdWVUeXBlLk1heGltdW07XG4gIGNvbnN0IGVuYWJsZVNpbmdsZUV4YWN0VmFsdWUgPSBlbmFibGVTaW5nbGVWYWx1ZSA9PT0gU2luZ2xlVmFsdWVUeXBlLkV4YWN0O1xuICBjb25zdCByYW5nZVZhbHVlID0gZW5hYmxlU2luZ2xlVmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICBjb25zdCBbY29sID0gJyddID0gZW5zdXJlSXNBcnJheShncm91cGJ5KS5tYXAoZ2V0Q29sdW1uTGFiZWwpO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlPFtudW1iZXIsIG51bWJlcl0+KFxuICAgIGRlZmF1bHRWYWx1ZSA/PyBbbWluLCBlbmFibGVTaW5nbGVFeGFjdFZhbHVlID8gbWluIDogbWF4XSxcbiAgKTtcbiAgY29uc3QgW21hcmtzLCBzZXRNYXJrc10gPSB1c2VTdGF0ZTx7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9Pih7fSk7XG4gIGNvbnN0IG1pbkluZGV4ID0gMDtcbiAgY29uc3QgbWF4SW5kZXggPSAxO1xuICBjb25zdCBtaW5NYXggPSB2YWx1ZSA/PyBbbWluLCBtYXhdO1xuXG4gIGNvbnN0IGdldEJvdW5kcyA9IHVzZUNhbGxiYWNrKFxuICAgIChcbiAgICAgIHZhbHVlOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgICk6IHsgbG93ZXI6IG51bWJlciB8IG51bGw7IHVwcGVyOiBudW1iZXIgfCBudWxsIH0gPT4ge1xuICAgICAgY29uc3QgW2xvd2VyUmF3LCB1cHBlclJhd10gPSB2YWx1ZTtcblxuICAgICAgaWYgKGVuYWJsZVNpbmdsZUV4YWN0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHsgbG93ZXI6IGxvd2VyUmF3LCB1cHBlcjogdXBwZXJSYXcgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG93ZXI6IGxvd2VyUmF3ID4gbWluID8gbG93ZXJSYXcgOiBudWxsLFxuICAgICAgICB1cHBlcjogdXBwZXJSYXcgPCBtYXggPyB1cHBlclJhdyA6IG51bGwsXG4gICAgICB9O1xuICAgIH0sXG4gICAgW21heCwgbWluLCBlbmFibGVTaW5nbGVFeGFjdFZhbHVlXSxcbiAgKTtcblxuICBjb25zdCBoYW5kbGVBZnRlckNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgICh2YWx1ZTogW251bWJlciwgbnVtYmVyXSk6IHZvaWQgPT4ge1xuICAgICAgc2V0VmFsdWUodmFsdWUpO1xuICAgICAgY29uc3QgeyBsb3dlciwgdXBwZXIgfSA9IGdldEJvdW5kcyh2YWx1ZSk7XG4gICAgICBzZXRNYXJrcyhnZXRNYXJrcyhsb3dlciwgdXBwZXIpKTtcblxuICAgICAgc2V0RGF0YU1hc2soe1xuICAgICAgICBleHRyYUZvcm1EYXRhOiBnZXRSYW5nZUV4dHJhRm9ybURhdGEoY29sLCBsb3dlciwgdXBwZXIpLFxuICAgICAgICBmaWx0ZXJTdGF0ZToge1xuICAgICAgICAgIHZhbHVlOiBsb3dlciAhPT0gbnVsbCB8fCB1cHBlciAhPT0gbnVsbCA/IHZhbHVlIDogbnVsbCxcbiAgICAgICAgICBsYWJlbDogZ2V0TGFiZWwobG93ZXIsIHVwcGVyKSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2NvbCwgZ2V0Qm91bmRzLCBzZXREYXRhTWFza10sXG4gICk7XG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHZhbHVlOiBbbnVtYmVyLCBudW1iZXJdKSA9PiB7XG4gICAgc2V0VmFsdWUodmFsdWUpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyB3aGVuIHN3aXRjaCBmaWx0ZXIgdHlwZSBhbmQgcXVlcmllc0RhdGEgc3RpbGwgbm90IHVwZGF0ZWQgd2UgbmVlZCBpZ25vcmUgdGhpcyBjYXNlIChpbiBGaWx0ZXJCYXIpXG4gICAgaWYgKHJvdz8ubWluID09PSB1bmRlZmluZWQgJiYgcm93Py5tYXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBmaWx0ZXJTdGF0ZVZhbHVlID0gZmlsdGVyU3RhdGUudmFsdWUgPz8gW21pbiwgbWF4XTtcbiAgICBpZiAoZW5hYmxlU2luZ2xlTWF4VmFsdWUpIHtcbiAgICAgIGNvbnN0IGZpbHRlclN0YXRlTWF4ID1cbiAgICAgICAgZmlsdGVyU3RhdGVWYWx1ZVttYXhJbmRleF0gPD0gbWluTWF4W21heEluZGV4XVxuICAgICAgICAgID8gZmlsdGVyU3RhdGVWYWx1ZVttYXhJbmRleF1cbiAgICAgICAgICA6IG1pbk1heFttYXhJbmRleF07XG5cbiAgICAgIGZpbHRlclN0YXRlVmFsdWUgPSBbbWluLCBmaWx0ZXJTdGF0ZU1heF07XG4gICAgfSBlbHNlIGlmIChlbmFibGVTaW5nbGVNaW5WYWx1ZSkge1xuICAgICAgY29uc3QgZmlsdGVyU3RhdGVNaW4gPVxuICAgICAgICBmaWx0ZXJTdGF0ZVZhbHVlW21pbkluZGV4XSA+PSBtaW5NYXhbbWluSW5kZXhdXG4gICAgICAgICAgPyBmaWx0ZXJTdGF0ZVZhbHVlW21pbkluZGV4XVxuICAgICAgICAgIDogbWluTWF4W21pbkluZGV4XTtcblxuICAgICAgZmlsdGVyU3RhdGVWYWx1ZSA9IFtmaWx0ZXJTdGF0ZU1pbiwgbWF4XTtcbiAgICB9IGVsc2UgaWYgKGVuYWJsZVNpbmdsZUV4YWN0VmFsdWUpIHtcbiAgICAgIGZpbHRlclN0YXRlVmFsdWUgPSBbbWluTWF4W21pbkluZGV4XSwgbWluTWF4W21pbkluZGV4XV07XG4gICAgfVxuXG4gICAgaGFuZGxlQWZ0ZXJDaGFuZ2UoZmlsdGVyU3RhdGVWYWx1ZSk7XG4gIH0sIFtcbiAgICBlbmFibGVTaW5nbGVNYXhWYWx1ZSxcbiAgICBlbmFibGVTaW5nbGVNaW5WYWx1ZSxcbiAgICBlbmFibGVTaW5nbGVFeGFjdFZhbHVlLFxuICAgIEpTT04uc3RyaW5naWZ5KGZpbHRlclN0YXRlLnZhbHVlKSxcbiAgICBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgXSk7XG5cbiAgY29uc3QgZm9ybUl0ZW1FeHRyYSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChmaWx0ZXJTdGF0ZS52YWxpZGF0ZU1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGF0dXNNZXNzYWdlIHN0YXR1cz17ZmlsdGVyU3RhdGUudmFsaWRhdGVTdGF0dXN9PlxuICAgICAgICAgIHtmaWx0ZXJTdGF0ZS52YWxpZGF0ZU1lc3NhZ2V9XG4gICAgICAgIDwvU3RhdHVzTWVzc2FnZT5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtmaWx0ZXJTdGF0ZS52YWxpZGF0ZU1lc3NhZ2UsIGZpbHRlclN0YXRlLnZhbGlkYXRlU3RhdHVzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZW5hYmxlU2luZ2xlTWF4VmFsdWUpIHtcbiAgICAgIGhhbmRsZUFmdGVyQ2hhbmdlKFttaW4sIG1pbk1heFttYXhJbmRleF1dKTtcbiAgICB9XG4gIH0sIFtlbmFibGVTaW5nbGVNYXhWYWx1ZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVuYWJsZVNpbmdsZU1pblZhbHVlKSB7XG4gICAgICBoYW5kbGVBZnRlckNoYW5nZShbbWluTWF4W21pbkluZGV4XSwgbWF4XSk7XG4gICAgfVxuICB9LCBbZW5hYmxlU2luZ2xlTWluVmFsdWVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlbmFibGVTaW5nbGVFeGFjdFZhbHVlKSB7XG4gICAgICBoYW5kbGVBZnRlckNoYW5nZShbbWluTWF4W21pbkluZGV4XSwgbWluTWF4W21pbkluZGV4XV0pO1xuICAgIH1cbiAgfSwgW2VuYWJsZVNpbmdsZUV4YWN0VmFsdWVdKTtcblxuICByZXR1cm4gKFxuICAgIDxGaWx0ZXJQbHVnaW5TdHlsZSBoZWlnaHQ9e2hlaWdodH0gd2lkdGg9e3dpZHRofT5cbiAgICAgIHtOdW1iZXIuaXNOYU4oTnVtYmVyKG1pbikpIHx8IE51bWJlci5pc05hTihOdW1iZXIobWF4KSkgPyAoXG4gICAgICAgIDxoND57dCgnQ2hvc2VuIG5vbi1udW1lcmljIGNvbHVtbicpfTwvaDQ+XG4gICAgICApIDogKFxuICAgICAgICA8U3R5bGVkRm9ybUl0ZW0gZXh0cmE9e2Zvcm1JdGVtRXh0cmF9PlxuICAgICAgICAgIDxXcmFwcGVyXG4gICAgICAgICAgICB0YWJJbmRleD17LTF9XG4gICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgdmFsaWRhdGVTdGF0dXM9e2ZpbHRlclN0YXRlLnZhbGlkYXRlU3RhdHVzfVxuICAgICAgICAgICAgb3JpZW50YXRpb249e2ZpbHRlckJhck9yaWVudGF0aW9ufVxuICAgICAgICAgICAgaXNPdmVyZmxvd2luZz17aXNPdmVyZmxvd2luZ0ZpbHRlckJhcn1cbiAgICAgICAgICAgIG9uRm9jdXM9e3NldEZvY3VzZWRGaWx0ZXJ9XG4gICAgICAgICAgICBvbkJsdXI9e3Vuc2V0Rm9jdXNlZEZpbHRlcn1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17c2V0SG92ZXJlZEZpbHRlcn1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17dW5zZXRIb3ZlcmVkRmlsdGVyfVxuICAgICAgICAgICAgb25Nb3VzZURvd249eygpID0+IHNldEZpbHRlckFjdGl2ZSh0cnVlKX1cbiAgICAgICAgICAgIG9uTW91c2VVcD17KCkgPT4gc2V0RmlsdGVyQWN0aXZlKGZhbHNlKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7ZW5hYmxlU2luZ2xlTWF4VmFsdWUgJiYgKFxuICAgICAgICAgICAgICA8QW50ZFNsaWRlclxuICAgICAgICAgICAgICAgIG1pbj17bWlufVxuICAgICAgICAgICAgICAgIG1heD17bWF4fVxuICAgICAgICAgICAgICAgIHZhbHVlPXttaW5NYXhbbWF4SW5kZXhdfVxuICAgICAgICAgICAgICAgIHRpcEZvcm1hdHRlcj17dGlwRm9ybWF0dGVyfVxuICAgICAgICAgICAgICAgIG1hcmtzPXttYXJrc31cbiAgICAgICAgICAgICAgICBvbkFmdGVyQ2hhbmdlPXt2YWx1ZSA9PiBoYW5kbGVBZnRlckNoYW5nZShbbWluLCB2YWx1ZV0pfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWx1ZSA9PiBoYW5kbGVDaGFuZ2UoW21pbiwgdmFsdWVdKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7ZW5hYmxlU2luZ2xlTWluVmFsdWUgJiYgKFxuICAgICAgICAgICAgICA8U3R5bGVkTWluU2xpZGVyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0dXM9e2ZpbHRlclN0YXRlLnZhbGlkYXRlU3RhdHVzfVxuICAgICAgICAgICAgICAgIG1pbj17bWlufVxuICAgICAgICAgICAgICAgIG1heD17bWF4fVxuICAgICAgICAgICAgICAgIHZhbHVlPXttaW5NYXhbbWluSW5kZXhdfVxuICAgICAgICAgICAgICAgIHRpcEZvcm1hdHRlcj17dGlwRm9ybWF0dGVyfVxuICAgICAgICAgICAgICAgIG1hcmtzPXttYXJrc31cbiAgICAgICAgICAgICAgICBvbkFmdGVyQ2hhbmdlPXt2YWx1ZSA9PiBoYW5kbGVBZnRlckNoYW5nZShbdmFsdWUsIG1heF0pfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWx1ZSA9PiBoYW5kbGVDaGFuZ2UoW3ZhbHVlLCBtYXhdKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7ZW5hYmxlU2luZ2xlRXhhY3RWYWx1ZSAmJiAoXG4gICAgICAgICAgICAgIDxBbnRkU2xpZGVyXG4gICAgICAgICAgICAgICAgbWluPXttaW59XG4gICAgICAgICAgICAgICAgbWF4PXttYXh9XG4gICAgICAgICAgICAgICAgaW5jbHVkZWQ9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXttaW5NYXhbbWluSW5kZXhdfVxuICAgICAgICAgICAgICAgIHRpcEZvcm1hdHRlcj17dGlwRm9ybWF0dGVyfVxuICAgICAgICAgICAgICAgIG1hcmtzPXttYXJrc31cbiAgICAgICAgICAgICAgICBvbkFmdGVyQ2hhbmdlPXt2YWx1ZSA9PiBoYW5kbGVBZnRlckNoYW5nZShbdmFsdWUsIHZhbHVlXSl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3ZhbHVlID0+IGhhbmRsZUNoYW5nZShbdmFsdWUsIHZhbHVlXSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3JhbmdlVmFsdWUgJiYgKFxuICAgICAgICAgICAgICA8QW50ZFNsaWRlclxuICAgICAgICAgICAgICAgIHJhbmdlXG4gICAgICAgICAgICAgICAgbWluPXttaW59XG4gICAgICAgICAgICAgICAgbWF4PXttYXh9XG4gICAgICAgICAgICAgICAgdmFsdWU9e21pbk1heH1cbiAgICAgICAgICAgICAgICBvbkFmdGVyQ2hhbmdlPXtoYW5kbGVBZnRlckNoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHRpcEZvcm1hdHRlcj17dGlwRm9ybWF0dGVyfVxuICAgICAgICAgICAgICAgIG1hcmtzPXttYXJrc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9XcmFwcGVyPlxuICAgICAgICA8L1N0eWxlZEZvcm1JdGVtPlxuICAgICAgKX1cbiAgICA8L0ZpbHRlclBsdWdpblN0eWxlPlxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/filters/components/Range/RangeFilterPlugin.tsx\n");

/***/ }),

/***/ "./src/filters/components/common.ts":
/*!******************************************!*\
  !*** ./src/filters/components/common.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FilterPluginStyle: () => (/* binding */ FilterPluginStyle),\n/* harmony export */   RESPONSIVE_WIDTH: () => (/* binding */ RESPONSIVE_WIDTH),\n/* harmony export */   StatusMessage: () => (/* binding */ StatusMessage),\n/* harmony export */   StyledFormItem: () => (/* binding */ StyledFormItem)\n/* harmony export */ });\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _components_Form_FormItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/Form/FormItem */ \"./src/components/Form/FormItem.tsx\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nconst RESPONSIVE_WIDTH = 0;\nconst FilterPluginStyle = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled.div`\n  min-height: ${(_ref) => {let { height } = _ref;return height;}}px;\n  width: ${(_ref2) => {let { width } = _ref2;return width === RESPONSIVE_WIDTH ? '100%' : `${width}px`;}};\n`;\nconst StyledFormItem = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled)((0,_components_Form_FormItem__WEBPACK_IMPORTED_MODULE_0__[\"default\"]))`\n  &.ant-row.ant-form-item {\n    margin: 0;\n  }\n`;\nconst StatusMessage = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled.div`\n  color: ${(_ref3) => {var _theme$colors$status;let { theme, status = 'error' } = _ref3;return (_theme$colors$status = theme.colors[status]) == null ? void 0 : _theme$colors$status.base;}};\n`;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(RESPONSIVE_WIDTH, \"RESPONSIVE_WIDTH\", \"/app/superset-frontend/src/filters/components/common.ts\");reactHotLoader.register(FilterPluginStyle, \"FilterPluginStyle\", \"/app/superset-frontend/src/filters/components/common.ts\");reactHotLoader.register(StyledFormItem, \"StyledFormItem\", \"/app/superset-frontend/src/filters/components/common.ts\");reactHotLoader.register(StatusMessage, \"StatusMessage\", \"/app/superset-frontend/src/filters/components/common.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmlsdGVycy9jb21wb25lbnRzL2NvbW1vbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUVBO0FBR0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vc3JjL2ZpbHRlcnMvY29tcG9uZW50cy9jb21tb24udHM/NGM4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgeyBQbHVnaW5GaWx0ZXJTdHlsZXNQcm9wcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IEZvcm1JdGVtIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRm9ybS9Gb3JtSXRlbSc7XG5cbmV4cG9ydCBjb25zdCBSRVNQT05TSVZFX1dJRFRIID0gMDtcblxuZXhwb3J0IGNvbnN0IEZpbHRlclBsdWdpblN0eWxlID0gc3R5bGVkLmRpdjxQbHVnaW5GaWx0ZXJTdHlsZXNQcm9wcz5gXG4gIG1pbi1oZWlnaHQ6ICR7KHsgaGVpZ2h0IH0pID0+IGhlaWdodH1weDtcbiAgd2lkdGg6ICR7KHsgd2lkdGggfSkgPT4gKHdpZHRoID09PSBSRVNQT05TSVZFX1dJRFRIID8gJzEwMCUnIDogYCR7d2lkdGh9cHhgKX07XG5gO1xuXG5leHBvcnQgY29uc3QgU3R5bGVkRm9ybUl0ZW0gPSBzdHlsZWQoRm9ybUl0ZW0pYFxuICAmLmFudC1yb3cuYW50LWZvcm0taXRlbSB7XG4gICAgbWFyZ2luOiAwO1xuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgU3RhdHVzTWVzc2FnZSA9IHN0eWxlZC5kaXY8e1xuICBzdGF0dXM/OiAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ2luZm8nO1xufT5gXG4gIGNvbG9yOiAkeyh7IHRoZW1lLCBzdGF0dXMgPSAnZXJyb3InIH0pID0+IHRoZW1lLmNvbG9yc1tzdGF0dXNdPy5iYXNlfTtcbmA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/filters/components/common.ts\n");

/***/ }),

/***/ "./src/filters/utils.ts":
/*!******************************!*\
  !*** ./src/filters/utils.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDataRecordFormatter: () => (/* binding */ getDataRecordFormatter),\n/* harmony export */   getRangeExtraFormData: () => (/* binding */ getRangeExtraFormData),\n/* harmony export */   getSelectExtraFormData: () => (/* binding */ getSelectExtraFormData)\n/* harmony export */ });\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/query/types/QueryResponse.ts\");\n/* harmony import */ var src_utils_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/utils/common */ \"./src/utils/common.js\");\n/* harmony import */ var _explore_components_controls_FilterControl_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../explore/components/controls/FilterControl/types */ \"./src/explore/components/controls/FilterControl/types.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\nconst getSelectExtraFormData = function (col, value, emptyFilter, inverseSelection) {if (emptyFilter === void 0) {emptyFilter = false;}if (inverseSelection === void 0) {inverseSelection = false;}\n  const extra = {};\n  if (emptyFilter) {\n    extra.adhoc_filters = [\n    {\n      expressionType: _explore_components_controls_FilterControl_types__WEBPACK_IMPORTED_MODULE_1__.EXPRESSION_TYPES.SQL,\n      clause: _explore_components_controls_FilterControl_types__WEBPACK_IMPORTED_MODULE_1__.CLAUSES.WHERE,\n      sqlExpression: '1 = 0'\n    }];\n\n  } else\n  if (value !== undefined && value !== null && value.length !== 0) {\n    extra.filters = [\n    {\n      col,\n      op: inverseSelection ? 'NOT IN' : 'IN',\n      // @ts-ignore\n      val: value\n    }];\n\n  }\n  return extra;\n};\nconst getRangeExtraFormData = (col, lower, upper) => {\n  const filters = [];\n  if (lower !== undefined && lower !== null && lower !== upper) {\n    filters.push({ col, op: '>=', val: lower });\n  }\n  if (upper !== undefined && upper !== null && upper !== lower) {\n    filters.push({ col, op: '<=', val: upper });\n  }\n  if (upper !== undefined &&\n  upper !== null &&\n  lower !== undefined &&\n  lower !== null &&\n  upper === lower) {\n    filters.push({ col, op: '==', val: upper });\n  }\n  return filters.length ?\n  {\n    filters\n  } :\n  {};\n};\nfunction getDataRecordFormatter(_temp) {let { timeFormatter, numberFormatter } = _temp === void 0 ? {} : _temp;\n  return (value, dtype) => {\n    if (value === null || value === undefined) {\n      return src_utils_common__WEBPACK_IMPORTED_MODULE_0__.NULL_STRING;\n    }\n    if (typeof value === 'boolean') {\n      return value ? src_utils_common__WEBPACK_IMPORTED_MODULE_0__.TRUE_STRING : src_utils_common__WEBPACK_IMPORTED_MODULE_0__.FALSE_STRING;\n    }\n    if (dtype === _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.GenericDataType.BOOLEAN) {\n      try {\n        return JSON.parse(String(value).toLowerCase()) ?\n        src_utils_common__WEBPACK_IMPORTED_MODULE_0__.TRUE_STRING :\n        src_utils_common__WEBPACK_IMPORTED_MODULE_0__.FALSE_STRING;\n      }\n      catch {\n        return src_utils_common__WEBPACK_IMPORTED_MODULE_0__.FALSE_STRING;\n      }\n    }\n    if (typeof value === 'string') {\n      return value;\n    }\n    if (timeFormatter && dtype === _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.GenericDataType.TEMPORAL) {\n      return timeFormatter(value);\n    }\n    if (numberFormatter &&\n    typeof value === 'number' &&\n    dtype === _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.GenericDataType.NUMERIC) {\n      return numberFormatter(value);\n    }\n    return String(value);\n  };\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(getSelectExtraFormData, \"getSelectExtraFormData\", \"/app/superset-frontend/src/filters/utils.ts\");reactHotLoader.register(getRangeExtraFormData, \"getRangeExtraFormData\", \"/app/superset-frontend/src/filters/utils.ts\");reactHotLoader.register(getDataRecordFormatter, \"getDataRecordFormatter\", \"/app/superset-frontend/src/filters/utils.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmlsdGVycy91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0FBUUE7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vc3JjL2ZpbHRlcnMvdXRpbHMudHM/Mzk3MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICBEYXRhUmVjb3JkVmFsdWUsXG4gIEdlbmVyaWNEYXRhVHlwZSxcbiAgTnVtYmVyRm9ybWF0dGVyLFxuICBRdWVyeU9iamVjdEZpbHRlckNsYXVzZSxcbiAgVGltZUZvcm1hdHRlcixcbiAgRXh0cmFGb3JtRGF0YSxcbn0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgRkFMU0VfU1RSSU5HLCBOVUxMX1NUUklORywgVFJVRV9TVFJJTkcgfSBmcm9tICdzcmMvdXRpbHMvY29tbW9uJztcbmltcG9ydCB7XG4gIENMQVVTRVMsXG4gIEVYUFJFU1NJT05fVFlQRVMsXG59IGZyb20gJy4uL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9GaWx0ZXJDb250cm9sL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGdldFNlbGVjdEV4dHJhRm9ybURhdGEgPSAoXG4gIGNvbDogc3RyaW5nLFxuICB2YWx1ZT86IG51bGwgfCAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGwpW10sXG4gIGVtcHR5RmlsdGVyID0gZmFsc2UsXG4gIGludmVyc2VTZWxlY3Rpb24gPSBmYWxzZSxcbik6IEV4dHJhRm9ybURhdGEgPT4ge1xuICBjb25zdCBleHRyYTogRXh0cmFGb3JtRGF0YSA9IHt9O1xuICBpZiAoZW1wdHlGaWx0ZXIpIHtcbiAgICBleHRyYS5hZGhvY19maWx0ZXJzID0gW1xuICAgICAge1xuICAgICAgICBleHByZXNzaW9uVHlwZTogRVhQUkVTU0lPTl9UWVBFUy5TUUwsXG4gICAgICAgIGNsYXVzZTogQ0xBVVNFUy5XSEVSRSxcbiAgICAgICAgc3FsRXhwcmVzc2lvbjogJzEgPSAwJyxcbiAgICAgIH0sXG4gICAgXTtcbiAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlLmxlbmd0aCAhPT0gMCkge1xuICAgIGV4dHJhLmZpbHRlcnMgPSBbXG4gICAgICB7XG4gICAgICAgIGNvbCxcbiAgICAgICAgb3A6IGludmVyc2VTZWxlY3Rpb24gPyAoJ05PVCBJTicgYXMgY29uc3QpIDogKCdJTicgYXMgY29uc3QpLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZhbDogdmFsdWUsXG4gICAgICB9LFxuICAgIF07XG4gIH1cbiAgcmV0dXJuIGV4dHJhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJhbmdlRXh0cmFGb3JtRGF0YSA9IChcbiAgY29sOiBzdHJpbmcsXG4gIGxvd2VyPzogbnVtYmVyIHwgbnVsbCxcbiAgdXBwZXI/OiBudW1iZXIgfCBudWxsLFxuKSA9PiB7XG4gIGNvbnN0IGZpbHRlcnM6IFF1ZXJ5T2JqZWN0RmlsdGVyQ2xhdXNlW10gPSBbXTtcbiAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQgJiYgbG93ZXIgIT09IG51bGwgJiYgbG93ZXIgIT09IHVwcGVyKSB7XG4gICAgZmlsdGVycy5wdXNoKHsgY29sLCBvcDogJz49JywgdmFsOiBsb3dlciB9KTtcbiAgfVxuICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCAmJiB1cHBlciAhPT0gbnVsbCAmJiB1cHBlciAhPT0gbG93ZXIpIHtcbiAgICBmaWx0ZXJzLnB1c2goeyBjb2wsIG9wOiAnPD0nLCB2YWw6IHVwcGVyIH0pO1xuICB9XG4gIGlmIChcbiAgICB1cHBlciAhPT0gdW5kZWZpbmVkICYmXG4gICAgdXBwZXIgIT09IG51bGwgJiZcbiAgICBsb3dlciAhPT0gdW5kZWZpbmVkICYmXG4gICAgbG93ZXIgIT09IG51bGwgJiZcbiAgICB1cHBlciA9PT0gbG93ZXJcbiAgKSB7XG4gICAgZmlsdGVycy5wdXNoKHsgY29sLCBvcDogJz09JywgdmFsOiB1cHBlciB9KTtcbiAgfVxuXG4gIHJldHVybiBmaWx0ZXJzLmxlbmd0aFxuICAgID8ge1xuICAgICAgICBmaWx0ZXJzLFxuICAgICAgfVxuICAgIDoge307XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFSZWNvcmRWYWx1ZUZvcm1hdHRlciB7XG4gICh2YWx1ZTogRGF0YVJlY29yZFZhbHVlLCBkdHlwZTogR2VuZXJpY0RhdGFUeXBlKTogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVJlY29yZEZvcm1hdHRlcih7XG4gIHRpbWVGb3JtYXR0ZXIsXG4gIG51bWJlckZvcm1hdHRlcixcbn06IHtcbiAgdGltZUZvcm1hdHRlcj86IFRpbWVGb3JtYXR0ZXI7XG4gIG51bWJlckZvcm1hdHRlcj86IE51bWJlckZvcm1hdHRlcjtcbn0gPSB7fSk6IERhdGFSZWNvcmRWYWx1ZUZvcm1hdHRlciB7XG4gIHJldHVybiAodmFsdWUsIGR0eXBlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBOVUxMX1NUUklORztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBUUlVFX1NUUklORyA6IEZBTFNFX1NUUklORztcbiAgICB9XG4gICAgaWYgKGR0eXBlID09PSBHZW5lcmljRGF0YVR5cGUuQk9PTEVBTikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgID8gVFJVRV9TVFJJTkdcbiAgICAgICAgICA6IEZBTFNFX1NUUklORztcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gRkFMU0VfU1RSSU5HO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAodGltZUZvcm1hdHRlciAmJiBkdHlwZSA9PT0gR2VuZXJpY0RhdGFUeXBlLlRFTVBPUkFMKSB7XG4gICAgICByZXR1cm4gdGltZUZvcm1hdHRlcih2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG51bWJlckZvcm1hdHRlciAmJlxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgICAgZHR5cGUgPT09IEdlbmVyaWNEYXRhVHlwZS5OVU1FUklDXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVtYmVyRm9ybWF0dGVyKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/filters/utils.ts\n");

/***/ })

}]);