/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["plugins_legacy-plugin-chart-partition_src_ReactPartition_jsx"],{

/***/ "./plugins/legacy-plugin-chart-partition/src/Partition.js":
/*!****************************************************************!*\
  !*** ./plugins/legacy-plugin-chart-partition/src/Partition.js ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */ \"./node_modules/d3/d3.js\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var d3_hierarchy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-hierarchy */ \"./node_modules/d3-hierarchy/src/index.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/number-format/NumberFormatterRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/time-format/TimeFormatterRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/color/CategoricalColorNamespace.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /* eslint-disable react/sort-prop-types */\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint no-param-reassign: [2, {\"props\": false}] */\n\n\n\n\n\n// Compute dx, dy, x, y for each node and\n// return an array of nodes in breadth-first order\nfunction init(root) {\n  const flat = [];\n  const dy = 1 / (root.height + 1);\n  let prev = null;\n  root.each((n) => {\n    n.y = dy * n.depth;\n    n.dy = dy;\n    if (n.parent) {\n      n.x = prev.depth === n.parent.depth ? 0 : prev.x + prev.dx;\n      n.dx = n.weight / n.parent.sum * n.parent.dx;\n    } else {\n      n.x = 0;\n      n.dx = 1;\n    }\n    prev = n;\n    flat.push(n);\n  });\n\n  return flat;\n}\n\n// Declare PropTypes for recursive data structures\n// https://github.com/facebook/react/issues/5676\n/* eslint-disable-next-line  no-undef */\nconst lazyFunction = (f) => () => f().apply(undefined, arguments);\nconst leafType = prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({\n  name: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  val: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number).isRequired\n});\nconst parentShape = {\n  name: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  val: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number).isRequired,\n  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(\n    prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([\n    prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape(lazyFunction(() => parentShape)),\n    leafType]\n    )\n  )\n};\nconst nodeType = prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape(parentShape), leafType]);\n\nconst propTypes = {\n  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(nodeType), // array of rootNode\n  width: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),\n  height: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),\n  colorScheme: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  dateTimeFormat: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  equalDateSize: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),\n  levels: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().string)),\n  metrics: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(\n    prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object)])\n  ),\n  numberFormat: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  partitionLimit: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),\n  partitionThreshold: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),\n  timeSeriesOption: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  useLogScale: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),\n  useRichTooltip: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)\n};\n\nfunction getAncestors(d) {\n  const ancestors = [d];\n  let node = d;\n  while (node.parent) {\n    ancestors.push(node.parent);\n    node = node.parent;\n  }\n\n  return ancestors;\n}\n\n// This vis is based on\n// http://mbostock.github.io/d3/talk/20111018/partition.html\nfunction Icicle(element, props) {\n  const {\n    width,\n    height,\n    data,\n    colorScheme,\n    dateTimeFormat,\n    equalDateSize,\n    levels,\n    useLogScale = false,\n    metrics = [],\n    numberFormat,\n    partitionLimit,\n    partitionThreshold,\n    useRichTooltip,\n    timeSeriesOption = 'not_time',\n    sliceId\n  } = props;\n\n  const div = d3__WEBPACK_IMPORTED_MODULE_0___default().select(element);\n  div.classed('superset-legacy-chart-partition', true);\n\n  // Chart options\n  const chartType = timeSeriesOption;\n  const hasTime = ['adv_anal', 'time_series'].includes(chartType);\n  const format = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.getNumberFormatter)(numberFormat);\n  const timeFormat = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_3__.getTimeFormatter)(dateTimeFormat);\n  const colorFn = _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__.getScale(colorScheme);\n\n  div.selectAll('*').remove();\n  const tooltip = div.append('div').classed('partition-tooltip', true);\n\n  function hasDateNode(n) {\n    return metrics.includes(n.data.name) && hasTime;\n  }\n\n  function getCategory(depth) {\n    if (!depth) {\n      return 'Metric';\n    }\n    if (hasTime && depth === 1) {\n      return 'Date';\n    }\n\n    return levels[depth - (hasTime ? 2 : 1)];\n  }\n\n  function drawVis(i, dat) {\n    const datum = dat[i];\n    const w = width;\n    const h = height / data.length;\n    const x = d3__WEBPACK_IMPORTED_MODULE_0___default().scale.linear().range([0, w]);\n    const y = d3__WEBPACK_IMPORTED_MODULE_0___default().scale.linear().range([0, h]);\n\n    const viz = div.\n    append('div').\n    attr('class', 'chart').\n    style('width', `${w}px`).\n    style('height', `${h}px`).\n    append('svg:svg').\n    attr('width', w).\n    attr('height', h);\n\n    // Add padding between multiple visualizations\n    if (i !== data.length - 1 && data.length > 1) {\n      viz.style('padding-bottom', '3px');\n    }\n    if (i !== 0 && data.length > 1) {\n      viz.style('padding-top', '3px');\n    }\n\n    const root = (0,d3_hierarchy__WEBPACK_IMPORTED_MODULE_5__.hierarchy)(datum);\n\n    // node.name is the metric/group name\n    // node.disp is the display value\n    // node.value determines sorting order\n    // node.weight determines partition height\n    // node.sum is the sum of children weights\n    root.eachAfter((n) => {\n      n.disp = n.data.val;\n      n.value = n.disp < 0 ? -n.disp : n.disp;\n      n.weight = n.value;\n      n.name = n.data.name;\n      // If the parent is a metric and we still have\n      // the time column, perform a date-time format\n      if (n.parent && hasDateNode(n.parent)) {\n        // Format timestamp values\n        n.weight = equalDateSize ? 1 : n.value;\n        n.value = n.name;\n        n.name = timeFormat(n.name);\n      }\n      if (useLogScale) n.weight = Math.log(n.weight + 1);\n      n.disp =\n      n.disp && !Number.isNaN(n.disp) && Number.isFinite(n.disp) ?\n      format(n.disp) :\n      '';\n    });\n    // Perform sort by weight\n    root.sort((a, b) => {\n      const v = b.value - a.value;\n      if (v === 0) {\n        return b.name > a.name ? 1 : -1;\n      }\n\n      return v;\n    });\n\n    // Prune data based on partition limit and threshold\n    // both are applied at the same time\n    if (partitionThreshold && partitionThreshold >= 0) {\n      // Compute weight sums as we go\n      root.each((n) => {\n        n.sum = n.children ?\n        n.children.reduce((a, v) => a + v.weight, 0) || 1 :\n        1;\n        if (n.children) {\n          // Dates are not ordered by weight\n          if (hasDateNode(n)) {\n            if (equalDateSize) {\n              return;\n            }\n            const removeIndices = [];\n            // Keep at least one child\n            for (let j = 1; j < n.children.length; j += 1) {\n              if (n.children[j].weight / n.sum < partitionThreshold) {\n                removeIndices.push(j);\n              }\n            }\n            for (let j = removeIndices.length - 1; j >= 0; j -= 1) {\n              n.children.splice(removeIndices[j], 1);\n            }\n          } else {\n            // Find first child that falls below the threshold\n            let j;\n            for (j = 1; j < n.children.length; j += 1) {\n              if (n.children[j].weight / n.sum < partitionThreshold) {\n                break;\n              }\n            }\n            n.children = n.children.slice(0, j);\n          }\n        }\n      });\n    }\n    if (partitionLimit && partitionLimit >= 0) {\n      root.each((n) => {\n        if (n.children && n.children.length > partitionLimit) {\n          if (!hasDateNode(n)) {\n            n.children = n.children.slice(0, partitionLimit);\n          }\n        }\n      });\n    }\n    // Compute final weight sums\n    root.eachAfter((n) => {\n      n.sum = n.children ?\n      n.children.reduce((a, v) => a + v.weight, 0) || 1 :\n      1;\n    });\n\n    function positionAndPopulate(tip, d) {\n      let t = '<table>';\n      if (useRichTooltip) {\n        const nodes = getAncestors(d);\n        nodes.reverse().forEach((n) => {\n          t += '<tbody>';\n          t +=\n          '<tr>' +\n          '<td>' +\n          '<div ' +\n          `style='border: 2px solid transparent;` +\n          `background-color: ${n.color};'` +\n          '></div>' +\n          '</td>' +\n          `<td>${getCategory(n.depth)}</td>` +\n          `<td>${n.name}</td>` +\n          `<td>${n.disp}</td>` +\n          '</tr>';\n        });\n      } else {\n        t +=\n        '<thead><tr><td colspan=\"3\">' +\n        `<strong>${getCategory(d.depth)}</strong>` +\n        '</td></tr></thead><tbody>';\n        t +=\n        '<tr>' +\n        '<td>' +\n        `<div style='border: thin solid grey; background-color: ${d.color};'` +\n        '></div>' +\n        '</td>' +\n        `<td>${d.name}</td>` +\n        `<td>${d.disp}</td>` +\n        '</tr>';\n      }\n      t += '</tbody></table>';\n      const [tipX, tipY] = d3__WEBPACK_IMPORTED_MODULE_0___default().mouse(element);\n      tip.\n      html(t).\n      style('left', `${tipX + 15}px`).\n      style('top', `${tipY}px`);\n    }\n\n    const nodes = init(root);\n\n    let zoomX = w / root.dx;\n    let zoomY = h / 1;\n\n    // Keep text centered in its division\n    function transform(d) {\n      return `translate(8,${d.dx * zoomY / 2})`;\n    }\n\n    const g = viz.\n    selectAll('g').\n    data(nodes).\n    enter().\n    append('svg:g').\n    attr('transform', (d) => `translate(${x(d.y)},${y(d.x)})`).\n    on('mouseover', (d) => {\n      tooltip.interrupt().transition().duration(100).style('opacity', 0.9);\n      positionAndPopulate(tooltip, d);\n    }).\n    on('mousemove', (d) => {\n      positionAndPopulate(tooltip, d);\n    }).\n    on('mouseout', () => {\n      tooltip.interrupt().transition().duration(250).style('opacity', 0);\n    });\n\n    // When clicking a subdivision, the vis will zoom in to it\n    function click(d) {\n      if (!d.children) {\n        if (d.parent) {\n          // Clicking on the rightmost level should zoom in\n          return click(d.parent);\n        }\n\n        return false;\n      }\n      zoomX = (d.y ? w - 40 : w) / (1 - d.y);\n      zoomY = h / d.dx;\n      x.domain([d.y, 1]).range([d.y ? 40 : 0, w]);\n      y.domain([d.x, d.x + d.dx]);\n\n      const t = g.\n      transition().\n      duration((d3__WEBPACK_IMPORTED_MODULE_0___default().event).altKey ? 7500 : 750).\n      attr('transform', (nd) => `translate(${x(nd.y)},${y(nd.x)})`);\n\n      t.select('rect').\n      attr('width', d.dy * zoomX).\n      attr('height', (nd) => nd.dx * zoomY);\n\n      t.select('text').\n      attr('transform', transform).\n      style('opacity', (nd) => nd.dx * zoomY > 12 ? 1 : 0);\n\n      d3__WEBPACK_IMPORTED_MODULE_0___default().event.stopPropagation();\n\n      return true;\n    }\n\n    g.on('click', click);\n\n    g.append('svg:rect').\n    attr('width', root.dy * zoomX).\n    attr('height', (d) => d.dx * zoomY);\n\n    g.append('svg:text').\n    attr('transform', transform).\n    attr('dy', '0.35em').\n    style('opacity', (d) => d.dx * zoomY > 12 ? 1 : 0).\n    text((d) => {\n      if (!d.disp) {\n        return d.name;\n      }\n\n      return `${d.name}: ${d.disp}`;\n    });\n\n    // Apply color scheme\n    g.selectAll('rect').style('fill', (d) => {\n      d.color = colorFn(d.name, sliceId);\n\n      return d.color;\n    });\n  }\n\n  for (let i = 0; i < data.length; i += 1) {\n    drawVis(i, data);\n  }\n}\n\nIcicle.displayName = 'Icicle';\nIcicle.propTypes = propTypes;const _default =\n\nIcicle;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(init, \"init\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(lazyFunction, \"lazyFunction\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(leafType, \"leafType\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(parentShape, \"parentShape\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(nodeType, \"nodeType\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(getAncestors, \"getAncestors\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(Icicle, \"Icicle\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/Partition.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtcGFydGl0aW9uL3NyYy9QYXJ0aXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtcGFydGl0aW9uL3NyYy9QYXJ0aXRpb24uanM/YzFhZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9zb3J0LXByb3AtdHlwZXMgKi9cbi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogWzIsIHtcInByb3BzXCI6IGZhbHNlfV0gKi9cbmltcG9ydCBkMyBmcm9tICdkMyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgaGllcmFyY2h5IH0gZnJvbSAnZDMtaGllcmFyY2h5JztcbmltcG9ydCB7XG4gIGdldE51bWJlckZvcm1hdHRlcixcbiAgZ2V0VGltZUZvcm1hdHRlcixcbiAgQ2F0ZWdvcmljYWxDb2xvck5hbWVzcGFjZSxcbn0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuXG4vLyBDb21wdXRlIGR4LCBkeSwgeCwgeSBmb3IgZWFjaCBub2RlIGFuZFxuLy8gcmV0dXJuIGFuIGFycmF5IG9mIG5vZGVzIGluIGJyZWFkdGgtZmlyc3Qgb3JkZXJcbmZ1bmN0aW9uIGluaXQocm9vdCkge1xuICBjb25zdCBmbGF0ID0gW107XG4gIGNvbnN0IGR5ID0gMSAvIChyb290LmhlaWdodCArIDEpO1xuICBsZXQgcHJldiA9IG51bGw7XG4gIHJvb3QuZWFjaChuID0+IHtcbiAgICBuLnkgPSBkeSAqIG4uZGVwdGg7XG4gICAgbi5keSA9IGR5O1xuICAgIGlmIChuLnBhcmVudCkge1xuICAgICAgbi54ID0gcHJldi5kZXB0aCA9PT0gbi5wYXJlbnQuZGVwdGggPyAwIDogcHJldi54ICsgcHJldi5keDtcbiAgICAgIG4uZHggPSAobi53ZWlnaHQgLyBuLnBhcmVudC5zdW0pICogbi5wYXJlbnQuZHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIG4ueCA9IDA7XG4gICAgICBuLmR4ID0gMTtcbiAgICB9XG4gICAgcHJldiA9IG47XG4gICAgZmxhdC5wdXNoKG4pO1xuICB9KTtcblxuICByZXR1cm4gZmxhdDtcbn1cblxuLy8gRGVjbGFyZSBQcm9wVHlwZXMgZm9yIHJlY3Vyc2l2ZSBkYXRhIHN0cnVjdHVyZXNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNTY3NlxuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICBuby11bmRlZiAqL1xuY29uc3QgbGF6eUZ1bmN0aW9uID0gZiA9PiAoKSA9PiBmKCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbmNvbnN0IGxlYWZUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgdmFsOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG59KTtcbmNvbnN0IHBhcmVudFNoYXBlID0ge1xuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB2YWw6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hcnJheU9mKFxuICAgIFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgUHJvcFR5cGVzLnNoYXBlKGxhenlGdW5jdGlvbigoKSA9PiBwYXJlbnRTaGFwZSkpLFxuICAgICAgbGVhZlR5cGUsXG4gICAgXSksXG4gICksXG59O1xuY29uc3Qgbm9kZVR5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc2hhcGUocGFyZW50U2hhcGUpLCBsZWFmVHlwZV0pO1xuXG5jb25zdCBwcm9wVHlwZXMgPSB7XG4gIGRhdGE6IFByb3BUeXBlcy5hcnJheU9mKG5vZGVUeXBlKSwgLy8gYXJyYXkgb2Ygcm9vdE5vZGVcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgY29sb3JTY2hlbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRhdGVUaW1lRm9ybWF0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBlcXVhbERhdGVTaXplOiBQcm9wVHlwZXMuYm9vbCxcbiAgbGV2ZWxzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgbWV0cmljczogUHJvcFR5cGVzLmFycmF5T2YoXG4gICAgUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICApLFxuICBudW1iZXJGb3JtYXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHBhcnRpdGlvbkxpbWl0OiBQcm9wVHlwZXMubnVtYmVyLFxuICBwYXJ0aXRpb25UaHJlc2hvbGQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIHRpbWVTZXJpZXNPcHRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIHVzZUxvZ1NjYWxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgdXNlUmljaFRvb2x0aXA6IFByb3BUeXBlcy5ib29sLFxufTtcblxuZnVuY3Rpb24gZ2V0QW5jZXN0b3JzKGQpIHtcbiAgY29uc3QgYW5jZXN0b3JzID0gW2RdO1xuICBsZXQgbm9kZSA9IGQ7XG4gIHdoaWxlIChub2RlLnBhcmVudCkge1xuICAgIGFuY2VzdG9ycy5wdXNoKG5vZGUucGFyZW50KTtcbiAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gYW5jZXN0b3JzO1xufVxuXG4vLyBUaGlzIHZpcyBpcyBiYXNlZCBvblxuLy8gaHR0cDovL21ib3N0b2NrLmdpdGh1Yi5pby9kMy90YWxrLzIwMTExMDE4L3BhcnRpdGlvbi5odG1sXG5mdW5jdGlvbiBJY2ljbGUoZWxlbWVudCwgcHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBkYXRhLFxuICAgIGNvbG9yU2NoZW1lLFxuICAgIGRhdGVUaW1lRm9ybWF0LFxuICAgIGVxdWFsRGF0ZVNpemUsXG4gICAgbGV2ZWxzLFxuICAgIHVzZUxvZ1NjYWxlID0gZmFsc2UsXG4gICAgbWV0cmljcyA9IFtdLFxuICAgIG51bWJlckZvcm1hdCxcbiAgICBwYXJ0aXRpb25MaW1pdCxcbiAgICBwYXJ0aXRpb25UaHJlc2hvbGQsXG4gICAgdXNlUmljaFRvb2x0aXAsXG4gICAgdGltZVNlcmllc09wdGlvbiA9ICdub3RfdGltZScsXG4gICAgc2xpY2VJZCxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGRpdiA9IGQzLnNlbGVjdChlbGVtZW50KTtcbiAgZGl2LmNsYXNzZWQoJ3N1cGVyc2V0LWxlZ2FjeS1jaGFydC1wYXJ0aXRpb24nLCB0cnVlKTtcblxuICAvLyBDaGFydCBvcHRpb25zXG4gIGNvbnN0IGNoYXJ0VHlwZSA9IHRpbWVTZXJpZXNPcHRpb247XG4gIGNvbnN0IGhhc1RpbWUgPSBbJ2Fkdl9hbmFsJywgJ3RpbWVfc2VyaWVzJ10uaW5jbHVkZXMoY2hhcnRUeXBlKTtcbiAgY29uc3QgZm9ybWF0ID0gZ2V0TnVtYmVyRm9ybWF0dGVyKG51bWJlckZvcm1hdCk7XG4gIGNvbnN0IHRpbWVGb3JtYXQgPSBnZXRUaW1lRm9ybWF0dGVyKGRhdGVUaW1lRm9ybWF0KTtcbiAgY29uc3QgY29sb3JGbiA9IENhdGVnb3JpY2FsQ29sb3JOYW1lc3BhY2UuZ2V0U2NhbGUoY29sb3JTY2hlbWUpO1xuXG4gIGRpdi5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcbiAgY29uc3QgdG9vbHRpcCA9IGRpdi5hcHBlbmQoJ2RpdicpLmNsYXNzZWQoJ3BhcnRpdGlvbi10b29sdGlwJywgdHJ1ZSk7XG5cbiAgZnVuY3Rpb24gaGFzRGF0ZU5vZGUobikge1xuICAgIHJldHVybiBtZXRyaWNzLmluY2x1ZGVzKG4uZGF0YS5uYW1lKSAmJiBoYXNUaW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoZGVwdGgpIHtcbiAgICBpZiAoIWRlcHRoKSB7XG4gICAgICByZXR1cm4gJ01ldHJpYyc7XG4gICAgfVxuICAgIGlmIChoYXNUaW1lICYmIGRlcHRoID09PSAxKSB7XG4gICAgICByZXR1cm4gJ0RhdGUnO1xuICAgIH1cblxuICAgIHJldHVybiBsZXZlbHNbZGVwdGggLSAoaGFzVGltZSA/IDIgOiAxKV07XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3VmlzKGksIGRhdCkge1xuICAgIGNvbnN0IGRhdHVtID0gZGF0W2ldO1xuICAgIGNvbnN0IHcgPSB3aWR0aDtcbiAgICBjb25zdCBoID0gaGVpZ2h0IC8gZGF0YS5sZW5ndGg7XG4gICAgY29uc3QgeCA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFswLCB3XSk7XG4gICAgY29uc3QgeSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFswLCBoXSk7XG5cbiAgICBjb25zdCB2aXogPSBkaXZcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnY2hhcnQnKVxuICAgICAgLnN0eWxlKCd3aWR0aCcsIGAke3d9cHhgKVxuICAgICAgLnN0eWxlKCdoZWlnaHQnLCBgJHtofXB4YClcbiAgICAgIC5hcHBlbmQoJ3N2ZzpzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgdylcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoKTtcblxuICAgIC8vIEFkZCBwYWRkaW5nIGJldHdlZW4gbXVsdGlwbGUgdmlzdWFsaXphdGlvbnNcbiAgICBpZiAoaSAhPT0gZGF0YS5sZW5ndGggLSAxICYmIGRhdGEubGVuZ3RoID4gMSkge1xuICAgICAgdml6LnN0eWxlKCdwYWRkaW5nLWJvdHRvbScsICczcHgnKTtcbiAgICB9XG4gICAgaWYgKGkgIT09IDAgJiYgZGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICB2aXouc3R5bGUoJ3BhZGRpbmctdG9wJywgJzNweCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHJvb3QgPSBoaWVyYXJjaHkoZGF0dW0pO1xuXG4gICAgLy8gbm9kZS5uYW1lIGlzIHRoZSBtZXRyaWMvZ3JvdXAgbmFtZVxuICAgIC8vIG5vZGUuZGlzcCBpcyB0aGUgZGlzcGxheSB2YWx1ZVxuICAgIC8vIG5vZGUudmFsdWUgZGV0ZXJtaW5lcyBzb3J0aW5nIG9yZGVyXG4gICAgLy8gbm9kZS53ZWlnaHQgZGV0ZXJtaW5lcyBwYXJ0aXRpb24gaGVpZ2h0XG4gICAgLy8gbm9kZS5zdW0gaXMgdGhlIHN1bSBvZiBjaGlsZHJlbiB3ZWlnaHRzXG4gICAgcm9vdC5lYWNoQWZ0ZXIobiA9PiB7XG4gICAgICBuLmRpc3AgPSBuLmRhdGEudmFsO1xuICAgICAgbi52YWx1ZSA9IG4uZGlzcCA8IDAgPyAtbi5kaXNwIDogbi5kaXNwO1xuICAgICAgbi53ZWlnaHQgPSBuLnZhbHVlO1xuICAgICAgbi5uYW1lID0gbi5kYXRhLm5hbWU7XG4gICAgICAvLyBJZiB0aGUgcGFyZW50IGlzIGEgbWV0cmljIGFuZCB3ZSBzdGlsbCBoYXZlXG4gICAgICAvLyB0aGUgdGltZSBjb2x1bW4sIHBlcmZvcm0gYSBkYXRlLXRpbWUgZm9ybWF0XG4gICAgICBpZiAobi5wYXJlbnQgJiYgaGFzRGF0ZU5vZGUobi5wYXJlbnQpKSB7XG4gICAgICAgIC8vIEZvcm1hdCB0aW1lc3RhbXAgdmFsdWVzXG4gICAgICAgIG4ud2VpZ2h0ID0gZXF1YWxEYXRlU2l6ZSA/IDEgOiBuLnZhbHVlO1xuICAgICAgICBuLnZhbHVlID0gbi5uYW1lO1xuICAgICAgICBuLm5hbWUgPSB0aW1lRm9ybWF0KG4ubmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlTG9nU2NhbGUpIG4ud2VpZ2h0ID0gTWF0aC5sb2cobi53ZWlnaHQgKyAxKTtcbiAgICAgIG4uZGlzcCA9XG4gICAgICAgIG4uZGlzcCAmJiAhTnVtYmVyLmlzTmFOKG4uZGlzcCkgJiYgTnVtYmVyLmlzRmluaXRlKG4uZGlzcClcbiAgICAgICAgICA/IGZvcm1hdChuLmRpc3ApXG4gICAgICAgICAgOiAnJztcbiAgICB9KTtcbiAgICAvLyBQZXJmb3JtIHNvcnQgYnkgd2VpZ2h0XG4gICAgcm9vdC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB2ID0gYi52YWx1ZSAtIGEudmFsdWU7XG4gICAgICBpZiAodiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYi5uYW1lID4gYS5uYW1lID8gMSA6IC0xO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdjtcbiAgICB9KTtcblxuICAgIC8vIFBydW5lIGRhdGEgYmFzZWQgb24gcGFydGl0aW9uIGxpbWl0IGFuZCB0aHJlc2hvbGRcbiAgICAvLyBib3RoIGFyZSBhcHBsaWVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICBpZiAocGFydGl0aW9uVGhyZXNob2xkICYmIHBhcnRpdGlvblRocmVzaG9sZCA+PSAwKSB7XG4gICAgICAvLyBDb21wdXRlIHdlaWdodCBzdW1zIGFzIHdlIGdvXG4gICAgICByb290LmVhY2gobiA9PiB7XG4gICAgICAgIG4uc3VtID0gbi5jaGlsZHJlblxuICAgICAgICAgID8gbi5jaGlsZHJlbi5yZWR1Y2UoKGEsIHYpID0+IGEgKyB2LndlaWdodCwgMCkgfHwgMVxuICAgICAgICAgIDogMTtcbiAgICAgICAgaWYgKG4uY2hpbGRyZW4pIHtcbiAgICAgICAgICAvLyBEYXRlcyBhcmUgbm90IG9yZGVyZWQgYnkgd2VpZ2h0XG4gICAgICAgICAgaWYgKGhhc0RhdGVOb2RlKG4pKSB7XG4gICAgICAgICAgICBpZiAoZXF1YWxEYXRlU2l6ZSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZW1vdmVJbmRpY2VzID0gW107XG4gICAgICAgICAgICAvLyBLZWVwIGF0IGxlYXN0IG9uZSBjaGlsZFxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCBuLmNoaWxkcmVuLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgIGlmIChuLmNoaWxkcmVuW2pdLndlaWdodCAvIG4uc3VtIDwgcGFydGl0aW9uVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSW5kaWNlcy5wdXNoKGopO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gcmVtb3ZlSW5kaWNlcy5sZW5ndGggLSAxOyBqID49IDA7IGogLT0gMSkge1xuICAgICAgICAgICAgICBuLmNoaWxkcmVuLnNwbGljZShyZW1vdmVJbmRpY2VzW2pdLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmluZCBmaXJzdCBjaGlsZCB0aGF0IGZhbGxzIGJlbG93IHRoZSB0aHJlc2hvbGRcbiAgICAgICAgICAgIGxldCBqO1xuICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IG4uY2hpbGRyZW4ubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgaWYgKG4uY2hpbGRyZW5bal0ud2VpZ2h0IC8gbi5zdW0gPCBwYXJ0aXRpb25UaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbi5jaGlsZHJlbiA9IG4uY2hpbGRyZW4uc2xpY2UoMCwgaik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHBhcnRpdGlvbkxpbWl0ICYmIHBhcnRpdGlvbkxpbWl0ID49IDApIHtcbiAgICAgIHJvb3QuZWFjaChuID0+IHtcbiAgICAgICAgaWYgKG4uY2hpbGRyZW4gJiYgbi5jaGlsZHJlbi5sZW5ndGggPiBwYXJ0aXRpb25MaW1pdCkge1xuICAgICAgICAgIGlmICghaGFzRGF0ZU5vZGUobikpIHtcbiAgICAgICAgICAgIG4uY2hpbGRyZW4gPSBuLmNoaWxkcmVuLnNsaWNlKDAsIHBhcnRpdGlvbkxpbWl0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBDb21wdXRlIGZpbmFsIHdlaWdodCBzdW1zXG4gICAgcm9vdC5lYWNoQWZ0ZXIobiA9PiB7XG4gICAgICBuLnN1bSA9IG4uY2hpbGRyZW5cbiAgICAgICAgPyBuLmNoaWxkcmVuLnJlZHVjZSgoYSwgdikgPT4gYSArIHYud2VpZ2h0LCAwKSB8fCAxXG4gICAgICAgIDogMTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHBvc2l0aW9uQW5kUG9wdWxhdGUodGlwLCBkKSB7XG4gICAgICBsZXQgdCA9ICc8dGFibGU+JztcbiAgICAgIGlmICh1c2VSaWNoVG9vbHRpcCkge1xuICAgICAgICBjb25zdCBub2RlcyA9IGdldEFuY2VzdG9ycyhkKTtcbiAgICAgICAgbm9kZXMucmV2ZXJzZSgpLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgdCArPSAnPHRib2R5Pic7XG4gICAgICAgICAgdCArPVxuICAgICAgICAgICAgJzx0cj4nICtcbiAgICAgICAgICAgICc8dGQ+JyArXG4gICAgICAgICAgICAnPGRpdiAnICtcbiAgICAgICAgICAgIGBzdHlsZT0nYm9yZGVyOiAycHggc29saWQgdHJhbnNwYXJlbnQ7YCArXG4gICAgICAgICAgICBgYmFja2dyb3VuZC1jb2xvcjogJHtuLmNvbG9yfTsnYCArXG4gICAgICAgICAgICAnPjwvZGl2PicgK1xuICAgICAgICAgICAgJzwvdGQ+JyArXG4gICAgICAgICAgICBgPHRkPiR7Z2V0Q2F0ZWdvcnkobi5kZXB0aCl9PC90ZD5gICtcbiAgICAgICAgICAgIGA8dGQ+JHtuLm5hbWV9PC90ZD5gICtcbiAgICAgICAgICAgIGA8dGQ+JHtuLmRpc3B9PC90ZD5gICtcbiAgICAgICAgICAgICc8L3RyPic7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdCArPVxuICAgICAgICAgICc8dGhlYWQ+PHRyPjx0ZCBjb2xzcGFuPVwiM1wiPicgK1xuICAgICAgICAgIGA8c3Ryb25nPiR7Z2V0Q2F0ZWdvcnkoZC5kZXB0aCl9PC9zdHJvbmc+YCArXG4gICAgICAgICAgJzwvdGQ+PC90cj48L3RoZWFkPjx0Ym9keT4nO1xuICAgICAgICB0ICs9XG4gICAgICAgICAgJzx0cj4nICtcbiAgICAgICAgICAnPHRkPicgK1xuICAgICAgICAgIGA8ZGl2IHN0eWxlPSdib3JkZXI6IHRoaW4gc29saWQgZ3JleTsgYmFja2dyb3VuZC1jb2xvcjogJHtkLmNvbG9yfTsnYCArXG4gICAgICAgICAgJz48L2Rpdj4nICtcbiAgICAgICAgICAnPC90ZD4nICtcbiAgICAgICAgICBgPHRkPiR7ZC5uYW1lfTwvdGQ+YCArXG4gICAgICAgICAgYDx0ZD4ke2QuZGlzcH08L3RkPmAgK1xuICAgICAgICAgICc8L3RyPic7XG4gICAgICB9XG4gICAgICB0ICs9ICc8L3Rib2R5PjwvdGFibGU+JztcbiAgICAgIGNvbnN0IFt0aXBYLCB0aXBZXSA9IGQzLm1vdXNlKGVsZW1lbnQpO1xuICAgICAgdGlwXG4gICAgICAgIC5odG1sKHQpXG4gICAgICAgIC5zdHlsZSgnbGVmdCcsIGAke3RpcFggKyAxNX1weGApXG4gICAgICAgIC5zdHlsZSgndG9wJywgYCR7dGlwWX1weGApO1xuICAgIH1cblxuICAgIGNvbnN0IG5vZGVzID0gaW5pdChyb290KTtcblxuICAgIGxldCB6b29tWCA9IHcgLyByb290LmR4O1xuICAgIGxldCB6b29tWSA9IGggLyAxO1xuXG4gICAgLy8gS2VlcCB0ZXh0IGNlbnRlcmVkIGluIGl0cyBkaXZpc2lvblxuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShkKSB7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZSg4LCR7KGQuZHggKiB6b29tWSkgLyAyfSlgO1xuICAgIH1cblxuICAgIGNvbnN0IGcgPSB2aXpcbiAgICAgIC5zZWxlY3RBbGwoJ2cnKVxuICAgICAgLmRhdGEobm9kZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnc3ZnOmcnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGQgPT4gYHRyYW5zbGF0ZSgke3goZC55KX0sJHt5KGQueCl9KWApXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGQgPT4ge1xuICAgICAgICB0b29sdGlwLmludGVycnVwdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKCdvcGFjaXR5JywgMC45KTtcbiAgICAgICAgcG9zaXRpb25BbmRQb3B1bGF0ZSh0b29sdGlwLCBkKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZScsIGQgPT4ge1xuICAgICAgICBwb3NpdGlvbkFuZFBvcHVsYXRlKHRvb2x0aXAsIGQpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHRvb2x0aXAuaW50ZXJydXB0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDI1MCkuc3R5bGUoJ29wYWNpdHknLCAwKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gV2hlbiBjbGlja2luZyBhIHN1YmRpdmlzaW9uLCB0aGUgdmlzIHdpbGwgem9vbSBpbiB0byBpdFxuICAgIGZ1bmN0aW9uIGNsaWNrKGQpIHtcbiAgICAgIGlmICghZC5jaGlsZHJlbikge1xuICAgICAgICBpZiAoZC5wYXJlbnQpIHtcbiAgICAgICAgICAvLyBDbGlja2luZyBvbiB0aGUgcmlnaHRtb3N0IGxldmVsIHNob3VsZCB6b29tIGluXG4gICAgICAgICAgcmV0dXJuIGNsaWNrKGQucGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHpvb21YID0gKGQueSA/IHcgLSA0MCA6IHcpIC8gKDEgLSBkLnkpO1xuICAgICAgem9vbVkgPSBoIC8gZC5keDtcbiAgICAgIHguZG9tYWluKFtkLnksIDFdKS5yYW5nZShbZC55ID8gNDAgOiAwLCB3XSk7XG4gICAgICB5LmRvbWFpbihbZC54LCBkLnggKyBkLmR4XSk7XG5cbiAgICAgIGNvbnN0IHQgPSBnXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKGQzLmV2ZW50LmFsdEtleSA/IDc1MDAgOiA3NTApXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBuZCA9PiBgdHJhbnNsYXRlKCR7eChuZC55KX0sJHt5KG5kLngpfSlgKTtcblxuICAgICAgdC5zZWxlY3QoJ3JlY3QnKVxuICAgICAgICAuYXR0cignd2lkdGgnLCBkLmR5ICogem9vbVgpXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBuZCA9PiBuZC5keCAqIHpvb21ZKTtcblxuICAgICAgdC5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKVxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCBuZCA9PiAobmQuZHggKiB6b29tWSA+IDEyID8gMSA6IDApKTtcblxuICAgICAgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGcub24oJ2NsaWNrJywgY2xpY2spO1xuXG4gICAgZy5hcHBlbmQoJ3N2ZzpyZWN0JylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHJvb3QuZHkgKiB6b29tWClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IGQuZHggKiB6b29tWSk7XG5cbiAgICBnLmFwcGVuZCgnc3ZnOnRleHQnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSlcbiAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKVxuICAgICAgLnN0eWxlKCdvcGFjaXR5JywgZCA9PiAoZC5keCAqIHpvb21ZID4gMTIgPyAxIDogMCkpXG4gICAgICAudGV4dChkID0+IHtcbiAgICAgICAgaWYgKCFkLmRpc3ApIHtcbiAgICAgICAgICByZXR1cm4gZC5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGAke2QubmFtZX06ICR7ZC5kaXNwfWA7XG4gICAgICB9KTtcblxuICAgIC8vIEFwcGx5IGNvbG9yIHNjaGVtZVxuICAgIGcuc2VsZWN0QWxsKCdyZWN0Jykuc3R5bGUoJ2ZpbGwnLCBkID0+IHtcbiAgICAgIGQuY29sb3IgPSBjb2xvckZuKGQubmFtZSwgc2xpY2VJZCk7XG5cbiAgICAgIHJldHVybiBkLmNvbG9yO1xuICAgIH0pO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZHJhd1ZpcyhpLCBkYXRhKTtcbiAgfVxufVxuXG5JY2ljbGUuZGlzcGxheU5hbWUgPSAnSWNpY2xlJztcbkljaWNsZS5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5cbmV4cG9ydCBkZWZhdWx0IEljaWNsZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./plugins/legacy-plugin-chart-partition/src/Partition.js\n");

/***/ }),

/***/ "./plugins/legacy-plugin-chart-partition/src/ReactPartition.jsx":
/*!**********************************************************************!*\
  !*** ./plugins/legacy-plugin-chart-partition/src/ReactPartition.jsx ***!
  \**********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/chart/components/reactify.tsx\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _Partition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Partition */ \"./plugins/legacy-plugin-chart-partition/src/Partition.js\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\n\nconst ReactComponent = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_Partition__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\nconst Partition = (_ref) => {let { className, ...otherProps } = _ref;return (\n    (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: className },\n    (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.jsx)(ReactComponent, otherProps)\n    ));};const _default =\n\n\n(0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_4__.styled)(Partition)`\n  ${(_ref2) => {let { theme } = _ref2;return `\n    .superset-legacy-chart-partition {\n      position: relative;\n    }\n\n    .superset-legacy-chart-partition .chart {\n      display: block;\n      margin: auto;\n      font-size: ${theme.typography.sizes.s}px;\n    }\n\n    .superset-legacy-chart-partition rect {\n      stroke: ${theme.colors.grayscale.light2};\n      fill: ${theme.colors.grayscale.light1};\n      fill-opacity: ${theme.opacity.heavy};\n      transition: fill-opacity 180ms linear;\n      cursor: pointer;\n    }\n\n    .superset-legacy-chart-partition rect:hover {\n      fill-opacity: 1;\n    }\n\n    .superset-legacy-chart-partition g text {\n      font-weight: ${theme.typography.weights.bold};\n      fill: ${theme.colors.grayscale.dark1};\n    }\n\n    .superset-legacy-chart-partition g:hover text {\n      fill: ${theme.colors.grayscale.dark2};\n    }\n\n    .superset-legacy-chart-partition .partition-tooltip {\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      padding: ${theme.gridUnit}px;\n      pointer-events: none;\n      background-color: ${theme.colors.grayscale.dark2};\n      border-radius: ${theme.gridUnit}px;\n    }\n\n    .partition-tooltip td {\n      padding-left: ${theme.gridUnit}px;\n      font-size: ${theme.typography.sizes.s}px;\n      color: ${theme.colors.grayscale.light5};\n    }\n  `;}}\n`;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ReactComponent, \"ReactComponent\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/ReactPartition.jsx\");reactHotLoader.register(Partition, \"Partition\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/ReactPartition.jsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/plugins/legacy-plugin-chart-partition/src/ReactPartition.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtcGFydGl0aW9uL3NyYy9SZWFjdFBhcnRpdGlvbi5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtcGFydGl0aW9uL3NyYy9SZWFjdFBhcnRpdGlvbi5qc3g/NWM1MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVhY3RpZnksIHN0eWxlZCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9QYXJ0aXRpb24nO1xuXG5jb25zdCBSZWFjdENvbXBvbmVudCA9IHJlYWN0aWZ5KENvbXBvbmVudCk7XG5cbmNvbnN0IFBhcnRpdGlvbiA9ICh7IGNsYXNzTmFtZSwgLi4ub3RoZXJQcm9wcyB9KSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgIDxSZWFjdENvbXBvbmVudCB7Li4ub3RoZXJQcm9wc30gLz5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBzdHlsZWQoUGFydGl0aW9uKWBcbiAgJHsoeyB0aGVtZSB9KSA9PiBgXG4gICAgLnN1cGVyc2V0LWxlZ2FjeS1jaGFydC1wYXJ0aXRpb24ge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cblxuICAgIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtcGFydGl0aW9uIC5jaGFydCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgIGZvbnQtc2l6ZTogJHt0aGVtZS50eXBvZ3JhcGh5LnNpemVzLnN9cHg7XG4gICAgfVxuXG4gICAgLnN1cGVyc2V0LWxlZ2FjeS1jaGFydC1wYXJ0aXRpb24gcmVjdCB7XG4gICAgICBzdHJva2U6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDJ9O1xuICAgICAgZmlsbDogJHt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0MX07XG4gICAgICBmaWxsLW9wYWNpdHk6ICR7dGhlbWUub3BhY2l0eS5oZWF2eX07XG4gICAgICB0cmFuc2l0aW9uOiBmaWxsLW9wYWNpdHkgMTgwbXMgbGluZWFyO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cblxuICAgIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtcGFydGl0aW9uIHJlY3Q6aG92ZXIge1xuICAgICAgZmlsbC1vcGFjaXR5OiAxO1xuICAgIH1cblxuICAgIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtcGFydGl0aW9uIGcgdGV4dCB7XG4gICAgICBmb250LXdlaWdodDogJHt0aGVtZS50eXBvZ3JhcGh5LndlaWdodHMuYm9sZH07XG4gICAgICBmaWxsOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazF9O1xuICAgIH1cblxuICAgIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtcGFydGl0aW9uIGc6aG92ZXIgdGV4dCB7XG4gICAgICBmaWxsOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9O1xuICAgIH1cblxuICAgIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtcGFydGl0aW9uIC5wYXJ0aXRpb24tdG9vbHRpcCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAwO1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIHBhZGRpbmc6ICR7dGhlbWUuZ3JpZFVuaXR9cHg7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5kYXJrMn07XG4gICAgICBib3JkZXItcmFkaXVzOiAke3RoZW1lLmdyaWRVbml0fXB4O1xuICAgIH1cblxuICAgIC5wYXJ0aXRpb24tdG9vbHRpcCB0ZCB7XG4gICAgICBwYWRkaW5nLWxlZnQ6ICR7dGhlbWUuZ3JpZFVuaXR9cHg7XG4gICAgICBmb250LXNpemU6ICR7dGhlbWUudHlwb2dyYXBoeS5zaXplcy5zfXB4O1xuICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDV9O1xuICAgIH1cbiAgYH1cbmA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./plugins/legacy-plugin-chart-partition/src/ReactPartition.jsx\n");

/***/ }),

/***/ "./node_modules/d3-hierarchy/src/index.js":
/*!************************************************!*\
  !*** ./node_modules/d3-hierarchy/src/index.js ***!
  \************************************************/
/***/ (() => {

throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/app/superset-frontend/node_modules/d3-hierarchy/src/index.js'");

/***/ }),

/***/ "./packages/superset-ui-core/src/chart/components/reactify.tsx":
/*!*********************************************************************!*\
  !*** ./packages/superset-ui-core/src/chart/components/reactify.tsx ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ reactify)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nfunction reactify(renderFn, callbacks) {\n  class ReactifiedComponent extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n\n    constructor(props) {\n      super(props);this.container = void 0;\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n    componentDidMount() {\n      this.execute();\n    }\n    componentDidUpdate() {\n      this.execute();\n    }\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks != null && callbacks.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n    setContainerRef(ref) {\n      this.container = ref;\n    }\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n    render() {\n      const { id, className } = this.props;\n      return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { ref: this.setContainerRef, id: id, className: className });\n    } // @ts-ignore\n    __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n      this[key] = eval(code);}}const ReactifiedClass = ReactifiedComponent;\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n  return ReactifiedComponent;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(reactify, \"reactify\", \"/app/superset-frontend/packages/superset-ui-core/src/chart/components/reactify.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zdXBlcnNldC11aS1jb3JlL3NyYy9jaGFydC9jb21wb25lbnRzL3JlYWN0aWZ5LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBO0FBK0JBO0FBSUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBR0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vcGFja2FnZXMvc3VwZXJzZXQtdWktY29yZS9zcmMvY2hhcnQvY29tcG9uZW50cy9yZWFjdGlmeS50c3g/ZWNhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gVE9ETzogTm90ZSB0aGF0IGlkIGFuZCBjbGFzc05hbWUgY2FuIGNvbGxpZGUgYmV0d2VlbiBQcm9wcyBhbmQgUmVhY3RpZnlQcm9wc1xuLy8gbGVhZGluZyB0byAobGlrZWx5KSB1bmV4cGVjdGVkIGJlaGF2aW9ycy4gV2Ugc2hvdWxkIGVpdGhlciByZXF1aXJlIFByb3BzIHRvIG5vdFxuLy8gY29udGFpbiBhbiBpZC9jbGFzc05hbWUsIG9yIG5vdCBjb21iaW5lIHRoZW0gKHZpYSBpbnRlcnNlY3Rpb24pLCBpbnN0ZWFkIHByZWZlcnJpbmdcbi8vIHdyYXBwaW5nIChjb21wb3NpdGlvbikuIEFzIGFuIGV4YW1wbGU6XG4vLyBpbnRlcmZhY2UgTXlQcm9wcyB7XG4vLyAgIGlkOiBudW1iZXI7XG4vLyB9XG4vLyBmdW5jdGlvbiBteVJlbmRlcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogUmVhZG9ubHk8TXlQcm9wcz4pOiB2b2lkIHtcbi8vICAgcHJvcHMuaWQgLy8gdW51c2FibGU6IGlkIGlzIHN0cmluZyAmIG51bWJlclxuLy8gfVxuLy8gbmV3IChyZWFjdGlmeShteVJlbmRlcikpKHsgaWQ6IDUgfSk7IC8vIGVycm9yOiBpZCBoYXMgdG8gYmUgc3RyaW5nICYgbnVtYmVyXG5cbmV4cG9ydCB0eXBlIFJlYWN0aWZ5UHJvcHMgPSB7XG4gIGlkPzogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59O1xuXG4vLyBUT0RPOiBhZGQgbW9yZSBSZWFjdCBsaWZlY3ljbGUgY2FsbGJhY2tzIGFzIG5lZWRlZFxuZXhwb3J0IHR5cGUgTGlmZUN5Y2xlQ2FsbGJhY2tzID0ge1xuICBjb21wb25lbnRXaWxsVW5tb3VudD86ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckZ1bmNUeXBlPFByb3BzPiB7XG4gIChjb250YWluZXI6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogUmVhZG9ubHk8UHJvcHMgJiBSZWFjdGlmeVByb3BzPik6IHZvaWQ7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICBkZWZhdWx0UHJvcHM/OiBQYXJ0aWFsPFByb3BzICYgUmVhY3RpZnlQcm9wcz47XG4gIHByb3BUeXBlcz86IFJlYWN0LldlYWtWYWxpZGF0aW9uTWFwPFByb3BzICYgUmVhY3RpZnlQcm9wcz47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlYWN0aWZ5PFByb3BzIGV4dGVuZHMgb2JqZWN0PihcbiAgcmVuZGVyRm46IFJlbmRlckZ1bmNUeXBlPFByb3BzPixcbiAgY2FsbGJhY2tzPzogTGlmZUN5Y2xlQ2FsbGJhY2tzLFxuKTogUmVhY3QuQ29tcG9uZW50Q2xhc3M8UHJvcHMgJiBSZWFjdGlmeVByb3BzPiB7XG4gIGNsYXNzIFJlYWN0aWZpZWRDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMgJiBSZWFjdGlmeVByb3BzPiB7XG4gICAgY29udGFpbmVyPzogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMgJiBSZWFjdGlmeVByb3BzKSB7XG4gICAgICBzdXBlcihwcm9wcyk7XG4gICAgICB0aGlzLnNldENvbnRhaW5lclJlZiA9IHRoaXMuc2V0Q29udGFpbmVyUmVmLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGNhbGxiYWNrcz8uY29tcG9uZW50V2lsbFVubW91bnQpIHtcbiAgICAgICAgY2FsbGJhY2tzLmNvbXBvbmVudFdpbGxVbm1vdW50LmJpbmQodGhpcykoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb250YWluZXJSZWYocmVmOiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgdGhpcy5jb250YWluZXIgPSByZWY7XG4gICAgfVxuXG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICByZW5kZXJGbih0aGlzLmNvbnRhaW5lciwgdGhpcy5wcm9wcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgY29uc3QgeyBpZCwgY2xhc3NOYW1lIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICByZXR1cm4gPGRpdiByZWY9e3RoaXMuc2V0Q29udGFpbmVyUmVmfSBpZD17aWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBSZWFjdGlmaWVkQ2xhc3M6IFJlYWN0LkNvbXBvbmVudENsYXNzPFByb3BzICYgUmVhY3RpZnlQcm9wcz4gPVxuICAgIFJlYWN0aWZpZWRDb21wb25lbnQ7XG5cbiAgaWYgKHJlbmRlckZuLmRpc3BsYXlOYW1lKSB7XG4gICAgUmVhY3RpZmllZENsYXNzLmRpc3BsYXlOYW1lID0gcmVuZGVyRm4uZGlzcGxheU5hbWU7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2ZvcmJpZC1mb3JlaWduLXByb3AtdHlwZXNcbiAgaWYgKHJlbmRlckZuLnByb3BUeXBlcykge1xuICAgIFJlYWN0aWZpZWRDbGFzcy5wcm9wVHlwZXMgPSB7XG4gICAgICAuLi5SZWFjdGlmaWVkQ2xhc3MucHJvcFR5cGVzLFxuICAgICAgLi4ucmVuZGVyRm4ucHJvcFR5cGVzLFxuICAgIH07XG4gIH1cbiAgaWYgKHJlbmRlckZuLmRlZmF1bHRQcm9wcykge1xuICAgIFJlYWN0aWZpZWRDbGFzcy5kZWZhdWx0UHJvcHMgPSByZW5kZXJGbi5kZWZhdWx0UHJvcHM7XG4gIH1cblxuICByZXR1cm4gUmVhY3RpZmllZENvbXBvbmVudDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/superset-ui-core/src/chart/components/reactify.tsx\n");

/***/ })

}]);